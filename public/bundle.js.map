{"version":3,"file":"bundle.js","sources":["../node_modules/@kurkle/color/dist/color.esm.js","../node_modules/chart.js/dist/chunks/helpers.segment.js","../node_modules/chart.js/dist/chart.js","../node_modules/chart.js/auto/auto.js","../helpers.js","../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/@dile/ui/components/pages/pages.js","../node_modules/@dile/ui/components/pages/src/DilePages.js","../node_modules/@dile/icons/src/iconStyles.js","../node_modules/@dile/icons/src/close.js","../node_modules/@dile/ui/components/icon/icon.js","../node_modules/@dile/ui/components/icon/src/DileIcon.js","../node_modules/@dile/ui/mixins/close-on-esc-pressed/src/DileCloseOnEscPressed.js","../node_modules/@dile/ui/components/modal/src/DileModal.js","../node_modules/@dile/ui/components/modal/modal.js","../node_modules/@dile/ui/components/toast/toast-item.js","../node_modules/@dile/ui/components/toast/src/DileToastItem.js","../node_modules/@dile/ui/components/toast/toast.js","../node_modules/@dile/ui/components/toast/src/DileToast.js","../index.js","../node_modules/@dile/ui/mixins/selectable/src/DileSelectable.js","../node_modules/@dile/ui/mixins/selectable/src/DileSelectableItem.js","../node_modules/@dile/ui/components/tabs/src/DileTab.js","../node_modules/@dile/ui/components/tabs/tab.js","../node_modules/@dile/ui/components/tabs/src/DileTabs.js","../node_modules/@dile/ui/components/tabs/tabs.js","../index2.js","../main.js"],"sourcesContent":["/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.3\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || typeof value === 'undefined';\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , _parsed  } = meta;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = _limitValue(Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            count = _limitValue(Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    if (!ctx && !canvas) {\n        return;\n    }\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = canvas && _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, fontString as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, overrideTextDirection as aA, _textX as aB, restoreTextDirection as aC, drawPointLegend as aD, distanceBetweenPoints as aE, noop as aF, _setMinAndMaxByKey as aG, niceNum as aH, almostWhole as aI, almostEquals as aJ, _decimalPlaces as aK, Ticks as aL, log10 as aM, _longestText as aN, _filterBetween as aO, _lookup as aP, isPatternOrGradient as aQ, getHoverColor as aR, clone as aS, _merger as aT, _mergerIf as aU, _deprecated as aV, _splitKey as aW, toFontString as aX, splineCurve as aY, splineCurveMonotone as aZ, getStyle as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, _elementsEqual as ah, _isClickEvent as ai, _isBetween as aj, _readValueToProps as ak, _updateBezierControlPoints as al, _computeSegments as am, _boundSegments as an, _steppedInterpolation as ao, _bezierInterpolation as ap, _pointInLine as aq, _steppedLineTo as ar, _bezierCurveTo as as, drawPoint as at, addRoundedRectPath as au, toTRBL as av, toTRBLCorners as aw, _boundSegment as ax, _normalizeAngle as ay, getRtlAdapter as az, isArray as b, toLineHeight as b0, PITAU as b1, INFINITY as b2, RAD_PER_DEG as b3, QUARTER_PI as b4, TWO_THIRDS_PI as b5, _angleDiff as b6, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.segment.js.map\n","/*!\n * Chart.js v4.4.3\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as _elementsEqual, ai as _isClickEvent, aj as _isBetween, ak as _readValueToProps, al as _updateBezierControlPoints, am as _computeSegments, an as _boundSegments, ao as _steppedInterpolation, ap as _bezierInterpolation, aq as _pointInLine, ar as _steppedLineTo, as as _bezierCurveTo, at as drawPoint, au as addRoundedRectPath, av as toTRBL, aw as toTRBLCorners, ax as _boundSegment, ay as _normalizeAngle, az as getRtlAdapter, aA as overrideTextDirection, aB as _textX, aC as restoreTextDirection, aD as drawPointLegend, aE as distanceBetweenPoints, aF as noop, aG as _setMinAndMaxByKey, aH as niceNum, aI as almostWhole, aJ as almostEquals, aK as _decimalPlaces, aL as Ticks, aM as log10, aN as _longestText, aO as _filterBetween, aP as _lookup } from './chunks/helpers.segment.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data, meta) {\n    const { iScale , vScale  } = meta;\n    const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n    const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            [iAxisKey]: key,\n            [vAxisKey]: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            const meta = this._cachedMeta;\n            this._data = convertObjectDataToArray(data, meta);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const skipNull = (meta)=>{\n            const parsed = meta.controller.getParsed(dataIndex);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            return lookupMethod(data, axis, value);\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = canvas && _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.3\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resize(width, height);\n            this._resizeBeforeDraw = null;\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const clip = meta._clip;\n        const useClip = !clip.disabled;\n        const area = getDatasetArea(meta, this.chartArea);\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (useClip) {\n            clipArea(ctx, {\n                left: clip.left === false ? 0 : area.left - clip.left,\n                right: clip.right === false ? this.width : area.right + clip.right,\n                top: clip.top === false ? 0 : area.top - clip.top,\n                bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n            });\n        }\n        meta.controller.draw();\n        if (useClip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, 𝜃) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements))) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, bounds) {\n    const { top , bottom  } = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x') {\n        ctx.beginPath();\n        ctx.rect(start, top, end - start, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value,  parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","import {Chart, registerables} from '../dist/chart.js';\n\nChart.register(...registerables);\n\nexport * from '../dist/chart.js';\nexport default Chart;\n","import Chart from 'chart.js/auto';\r\nfunction updatePreviewHeader(text) {\r\n    // Get the reference to the custom element\r\n    const myComponent = document.querySelector('my-component');\r\n    if (myComponent) {\r\n      // Access the shadow root and update the preview-thead element\r\n      const previewThead = myComponent.shadowRoot.querySelector('.form-group label');\r\n      if (previewThead) {\r\n        previewThead.textContent = text;\r\n      }\r\n      const showPage1 = myComponent.shadowRoot.querySelector('#showpage1');\r\n\r\n      showPage1.addEventListener('click', () => {\r\n        myComponent.shadowRoot.querySelector('dile-pages').selected=\"page1\";\r\n      });\r\n    }\r\n  }\r\n\r\n  function showPreview() {\r\n    const modalComponent = document.querySelector('modal-component');\r\n    if (modalComponent) {\r\n      const thead = modalComponent.shadowRoot.querySelector('#preview-thead');\r\n      const tbody = modalComponent.shadowRoot.querySelector('#preview-tbody');\r\n      thead.innerHTML = ''; // Clear previous headers\r\n      tbody.innerHTML = '';\r\n  \r\n      // Generate headers dynamically\r\n      const headerRow = document.createElement('tr');\r\n      for (let i = 0; i < 15; i++) {\r\n        const headerCell = document.createElement('th');\r\n        headerCell.textContent = 'asd';\r\n        headerRow.appendChild(headerCell);\r\n      }\r\n      thead.appendChild(headerRow); // Append header row once\r\n  \r\n      // Generate rows dynamically\r\n      for (let i = 0; i < 15; i++) {\r\n        const row = document.createElement('tr');\r\n        for (let j = 0; j < 15; j++) {\r\n          const cell = document.createElement('td');\r\n          cell.textContent = 'value';\r\n          row.appendChild(cell);\r\n        }\r\n        tbody.appendChild(row); // Append row with cells\r\n      }\r\n  \r\n      modalComponent.shadowRoot.querySelector('#preview').style.display = 'block';\r\n    }\r\n  }\r\n  \r\n  // Example of calling the external function\r\n  document.addEventListener('component-ready', () => {\r\n    updatePreviewHeader('Imported ');\r\n  });\r\n  \r\n  document.addEventListener('modal-ready', () => {\r\n    const modalComponent = document.querySelector('modal-component');\r\n    if (modalComponent) {\r\n      \r\n      const previewBtn = modalComponent.shadowRoot.querySelector('#preview-btn');\r\n      console.log('modal comp', modalComponent, 'and preview btn', previewBtn);\r\n      previewBtn.addEventListener('click', () => {\r\n        showPreview();\r\n      })\r\n    }\r\n\r\n  })\r\n\r\n  document.getElementById('toggleBtn').addEventListener('click', function() {\r\n    const sidePanel = document.getElementById('sidePanel');\r\n    sidePanel.classList.toggle('expanded');\r\n  });\r\n\r\n\r\n  const data = [\r\n    {\r\n        \"Дата и время\": \"19/06/2024 17:05:29\",\r\n        \"Событие\": \"rate\",\r\n        \"Номер вопроса\": 7,\r\n        \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n        \"Оценка\": \"10\",\r\n        \"Комментарий\": \"\",\r\n        \"Сотрудник\": \"example@example.ru\",\r\n        \"Должность\": \"Специалист\",\r\n        \"Табельный Номер\": \"21909\",\r\n        \"Подразделение\": \"Централизованные фун\",\r\n        \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n    },\r\n    {\r\n        \"Дата и время\": \"19/06/2024 17:05:51\",\r\n        \"Событие\": \"rate\",\r\n        \"Номер вопроса\": 8,\r\n        \"Вопрос\": \"\\\"Напишите ваши предложения по улучшению взаимодействия с сервис-менеджеров Х Технологии.\\\"\",\r\n        \"Оценка\": \"Предложений нет\",\r\n        \"Комментарий\": \"\",\r\n        \"Сотрудник\": \"example@example.com\",\r\n        \"Должность\": \"Специалист\",\r\n        \"Табельный Номер\": \"21905\",\r\n        \"Подразделение\": \"Централизованные фун\",\r\n        \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n    },\r\n    {\r\n        \"Дата и время\": \"19/06/2024 17:08:29\",\r\n        \"Событие\": \"rate\",\r\n        \"Номер вопроса\": 7,\r\n        \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n        \"Оценка\": \"8\",\r\n        \"Комментарий\": \"\",\r\n        \"Сотрудник\": \"example4@example.ru\",\r\n        \"Должность\": \"Специалист\",\r\n        \"Табельный Номер\": \"21998909\",\r\n        \"Подразделение\": \"Централизованные фун\",\r\n        \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n    },\r\n    {\r\n      \"Дата и время\": \"19/06/2024 17:08:29\",\r\n      \"Событие\": \"rate\",\r\n      \"Номер вопроса\": 7,\r\n      \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n      \"Оценка\": \"Правда\",\r\n      \"Комментарий\": \"\",\r\n      \"Сотрудник\": \"example4@example.ru\",\r\n      \"Должность\": \"Специалист\",\r\n      \"Табельный Номер\": \"21998909\",\r\n      \"Подразделение\": \"Централизованные фун\",\r\n      \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n  },\r\n  {\r\n    \"Дата и время\": \"19/06/2024 17:08:29\",\r\n    \"Событие\": \"rate\",\r\n    \"Номер вопроса\": 7,\r\n    \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n    \"Оценка\": \"Миф\",\r\n    \"Комментарий\": \"\",\r\n    \"Сотрудник\": \"example4@example.ru\",\r\n    \"Должность\": \"Специалист\",\r\n    \"Табельный Номер\": \"21998909\",\r\n    \"Подразделение\": \"Централизованные фун\",\r\n    \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:08:29\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 7,\r\n  \"Вопрос\": \"\\\"Может ли ЧБ заменить чела\\\"\",\r\n  \"Оценка\": \"Миф\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example4@example.ru\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21998909\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:08:29\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 7,\r\n  \"Вопрос\": \"\\\"Правда ли что ЧБ решает обращения лучше\\\"\",\r\n  \"Оценка\": \"Правда\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example4@example.ru\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21998909\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:08:29\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 7,\r\n  \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n  \"Оценка\": \"Правда\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example4@example.ru\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21998909\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:08:29\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 7,\r\n  \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n  \"Оценка\": \"Миф\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example4@example.ru\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21998909\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:08:29\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 7,\r\n  \"Вопрос\": \"\\\"Насколько качественно вам предоставляется обратная связь по вашим запросам от сервис-менеджера ?Оцените от 1 до 10, укажите комментарии в случае оценки ниже 7.\\\"\",\r\n  \"Оценка\": \"2\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example4@example.ru\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21998909\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:05:51\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 8,\r\n  \"Вопрос\": \"\\\"Напишите ваши предложения по улучшению взаимодействия с сервис-менеджеров Х Технологии.\\\"\",\r\n  \"Оценка\": \"Миф\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example@example.com\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21905\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:05:51\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 8,\r\n  \"Вопрос\": \"\\\"Напишите ваши предложения по улучшению взаимодействия с сервис-менеджеров Х Технологии.\\\"\",\r\n  \"Оценка\": \"Правда\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example@example.com\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21905\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:05:51\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 8,\r\n  \"Вопрос\": \"\\\"Напишите ваши предложения по улучшению взаимодействия с сервис-менеджеров Х Технологии.\\\"\",\r\n  \"Оценка\": \"Правда\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example@example.com\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21905\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n{\r\n  \"Дата и время\": \"19/06/2024 17:08:29\",\r\n  \"Событие\": \"rate\",\r\n  \"Номер вопроса\": 7,\r\n  \"Вопрос\": \"asddsa тест вопрос асдадсаасд асд\",\r\n  \"Оценка\": \"Миф\",\r\n  \"Комментарий\": \"\",\r\n  \"Сотрудник\": \"example4@example.ru\",\r\n  \"Должность\": \"Специалист\",\r\n  \"Табельный Номер\": \"21998909\",\r\n  \"Подразделение\": \"Централизованные фун\",\r\n  \"Дивижн\": \"Отдел контроля и учета ЕГАИС\"\r\n},\r\n];\r\n// Initialize empty objects globally\r\nlet numericalRatings = {};\r\nlet nonNumericalRatings = {};\r\n\r\n// Variables to hold the chart instances\r\nlet numericalChartInstance = null;\r\nlet nonNumericalChartInstance = null;\r\n\r\nfunction distributeRating(data) {\r\n  const numericalRatings = {};\r\n  const nonNumericalRatings = {};\r\n\r\n  data.forEach(entry => {\r\n      const rating = entry.Оценка;\r\n      const question = entry.Вопрос;\r\n      if (!isNaN(rating)) { // Ensure the rating is a number and not \"Предложений нет\"\r\n          const numericRating = parseInt(rating, 10);\r\n          if (numericalRatings.hasOwnProperty(numericRating)) {\r\n              numericalRatings[numericRating].count++;\r\n              if (!numericalRatings[numericRating].questions.includes(question)) {\r\n                  numericalRatings[numericRating].questions.push(question);\r\n              }\r\n          } else {\r\n              numericalRatings[numericRating] = { count: 1, questions: [question] };\r\n          }\r\n      } else {\r\n          if (nonNumericalRatings.hasOwnProperty(rating)) {\r\n              nonNumericalRatings[rating].count++;\r\n              if (!nonNumericalRatings[rating].questions.includes(question)) {\r\n                  nonNumericalRatings[rating].questions.push(question);\r\n              }\r\n          } else {\r\n              nonNumericalRatings[rating] = { count: 1, questions: [question] };\r\n          }\r\n      }\r\n  });\r\n\r\n  return { numericalRatings, nonNumericalRatings };\r\n}\r\n\r\n// let { numericalRatings, nonNumericalRatings } = distributeRating(data);\r\n\r\nconst numericalLabels = Object.keys(numericalRatings);\r\nconst numericalValues = Object.values(numericalRatings).map(item => item.count);\r\nconst numericalQuestions = Object.values(numericalRatings).map(item => item.questions.join('\\n'));\r\n\r\nconst nonNumericalLabels = Object.keys(nonNumericalRatings);\r\nconst nonNumericalValues = Object.values(nonNumericalRatings).map(item => item.count);\r\nconst nonNumericalQuestions = Object.values(nonNumericalRatings).map(item => item.questions.join('\\n'));\r\n\r\n// Numerical Rating Chart\r\nconst numericalCtx = document.getElementById('numericalRatingChart').getContext('2d');\r\nconst numericalRatingChart = new Chart(numericalCtx, {\r\n  type: 'bar',\r\n  data: {\r\n      labels: numericalLabels,\r\n      datasets: [{\r\n          label: 'Общее количество оценок (Numerical)',\r\n          data: numericalValues,\r\n          backgroundColor: 'rgba(75, 192, 192, 0.2)',\r\n          borderColor: 'rgba(85, 192, 192, 1)',\r\n          borderWidth: 1,\r\n          maxBarThickness: 250\r\n      }],\r\n  },\r\n  options: {\r\n      scales: {\r\n          y: {\r\n              beginAtZero: true,\r\n              ticks: {\r\n                  stepSize: 1\r\n              }\r\n          }\r\n      },\r\n      plugins: {\r\n          tooltip: {\r\n              callbacks: {\r\n                  afterLabel: function(context) {\r\n                      return numericalQuestions[context.dataIndex];\r\n                  }\r\n              }\r\n          }\r\n      }\r\n  }\r\n});\r\n\r\n// Non-Numerical Rating Chart\r\nconst nonNumericalCtx = document.getElementById('nonNumericalRatingChart').getContext('2d');\r\nconst nonNumericalRatingChart = new Chart(nonNumericalCtx, {\r\n  type: 'bar',\r\n  data: {\r\n      labels: nonNumericalLabels,\r\n      datasets: [{\r\n          label: 'Общее количество оценок (Non-Numerical)',\r\n          data: nonNumericalValues,\r\n          backgroundColor: 'rgba(255, 159, 64, 0.2)',\r\n          borderColor: 'rgba(255, 159, 64, 1)',\r\n          borderWidth: 1,\r\n          maxBarThickness: 250\r\n      }],\r\n  },\r\n  options: {\r\n      scales: {\r\n          y: {\r\n              beginAtZero: true,\r\n              ticks: {\r\n                  stepSize: 1\r\n              }\r\n          },\r\n      },\r\n      plugins: {\r\n          tooltip: {\r\n              callbacks: {\r\n                  afterLabel: function(context) {\r\n                      return nonNumericalQuestions[context.dataIndex];\r\n                  }\r\n              }\r\n          }\r\n      }\r\n  }\r\n});\r\n\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=Symbol.for(\"lit-noChange\"),T=Symbol.for(\"lit-nothing\"),A=new WeakMap,E=r.createTreeWalker(r,129);function C(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const P=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[C(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),o]};class V{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=P(t,s);if(this.el=V.createElement(f,n),E.currentNode=this.el.content,2===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=E.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?k:\"?\"===e[1]?H:\"@\"===e[1]?I:R}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),E.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function N(t,i,s=t,e){if(i===w)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=N(t,h._$AS(t,i.values),h,e)),i}class S{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);E.currentNode=e;let h=E.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new M(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new L(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=E.nextNode(),o++)}return E.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=N(this,t,i),c(t)?t===T||null==t||\"\"===t?(this._$AH!==T&&this._$AR(),this._$AH=T):t!==this._$AH&&t!==w&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==T&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=V.createElement(C(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new S(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new V(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new M(this.S(l()),this.S(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=T}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=N(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==w,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=N(this,e[s+n],i,n),r===w&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===T?t=T:t!==T&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===T?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==T)}}class I extends R{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=N(this,t,i,0)??T)===w)return;const s=this._$AH,e=t===T&&s!==T||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==T&&(s===T||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){N(this,t)}}const z={P:e,A:h,C:o,M:1,L:P,R:S,D:u,V:N,I:M,H:R,N:H,U:I,B:k,F:L},Z=t.litHtmlPolyfillSupport;Z?.(V,M),(t.litHtmlVersions??=[]).push(\"3.1.4\");const j=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new M(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{z as _$LH,x as html,w as noChange,T as nothing,j as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return i}}s._$litElement$=!0,s[(\"finalized\",\"finalized\")]=!0,globalThis.litElementHydrateSupport?.({LitElement:s});const r=globalThis.litElementPolyfillSupport;r?.({LitElement:s});const o={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.0.6\");export{s as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","import { DilePages } from \"./src/DilePages.js\";\n\nwindow.customElements.define(\"dile-pages\", DilePages);\n","import { LitElement, html, css } from 'lit';\n\nexport class DilePages extends LitElement {\n  static get properties() {\n    return {\n      /** Attribute in the page element, to match the selected property value */\n      attrForSelected: { type: String },\n      /** Set the selected page */\n      selected: { type: String },\n      /** A selector interface to change the tabs */\n      selectorId: { type: String },\n      /** Display to the element that is shown */\n      showDisplay: { type: String },\n    };\n  }\n  render() {\n    return html`\n    <slot></slot>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.transitionTime = 1000;\n    this.selected = 0;\n    this._pageInitialization();\n    this._onSelectorIdChangedHandler = this._onSelectorIdChanged.bind(this);\n    this.showDisplay = 'block';\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n      }\n    `;\n  }\n  /**\n   * Private method to process the light DOM and it's elements, creating and updating necesary styles \n   *\n   * @return {void}\n   */\n  _pageInitialization() {\n    this.pages = [];\n\n    let pages = this.children;\n    for (let ele of pages) {\n      ele.style.display = 'none';\n      ele.style.transition = `opacity ${this.transitionTime}ms`;\n      ele.style.opacity = '0';\n      this.pages.push(ele);\n    }\n  }\n\n  /**\n   * Call this method to attach other HTML in the component, to use it as pages, instead of the light DOM\n   *\n   * @return {void}\n   */\n  initializeExternalPages(htmlElements) {\n    this.innerHTML = htmlElements;\n    this._pageInitialization();\n  }\n\n  /**\n   * Livecycle method to ensure the view of the correct page in start \n   *\n   * @return {void}\n   */\n  firstUpdated() {\n    let page = this._selectPage(this.selected, this.attrForSelected);\n    if (page) {\n      page.style.display = this.showDisplay;\n    }\n    if(this.selectorId) {\n      document.addEventListener('dile-selected-changed', this._onSelectorIdChangedHandler);\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if(this.selectorId) {\n      document.removeEventListener('dile-selected-changed', this._onSelectorIdChangedHandler);\n    }\n  }\n\n  /**\n   * Livecycle method. Listening changes in selected and attrForSelected properties\n   *\n   * @return {void}\n   */\n  updated(changedProperties) {\n    if (this._updatedAndNotUndefined(changedProperties, 'selected') || this._updatedAndNotUndefined(changedProperties, 'attrForSelected')) {\n      let lastSelected = this._getLastValueProperty(changedProperties, 'selected');\n      let lastAttrForSelected = this._getLastValueProperty(changedProperties, 'attrForSelected');\n      this.hidePage(lastSelected, lastAttrForSelected);\n    }\n    this._showCurrentPage();\n  }\n\n  /**\n   * Private method to get the current active page\n   *\n   * @return {page}\n   */\n  _selectPage(selected, attrForSelected) {\n    let page;\n    if (!attrForSelected) {\n      page = this.pages[selected];\n    } else {\n      for (let ele of this.pages) {\n        if (ele.getAttribute(attrForSelected) == selected) {\n          page = ele;\n          break;\n        }\n      }\n    }\n    return page;\n  }\n\n  /**\n   * Private method to show the current active page\n   *\n   * @return {page}\n   */\n  _showCurrentPage() {\n    let page = this._selectPage(this.selected, this.attrForSelected)\n    if (page) {\n      page.style.display = this.showDisplay;\n      setTimeout(() => {\n        page.style.opacity = '1';\n      }, 50);\n    }\n  }\n\n  /**\n   * Hide a page, sending arbitrary data as parameters.  \n   *\n   * @param {selected} the page to hide\n   * @param {attrForSelected} the attribute to match the selected value\n   * @return {void}\n   */\n  hidePage(selected, attrForSelected) {\n    let page = this._selectPage(selected, attrForSelected)\n    if (page) {\n      page.style.display = 'none';\n      page.style.opacity = '0';\n    }\n  }\n\n  /**\n   * Private method to know when a property is changed, and its value is not undefined\n   * \n   * @param {changedProperties} map of the properties changed (same as you get in updated livecycle method)\n   * @param {field} the name of the property you need to know is updated\n   * @return {boolean}\n   */\n  _updatedAndNotUndefined(changedProperties, field) {\n    return (changedProperties.has(field) && changedProperties.get(field) != undefined)\n  }\n\n  /**\n   * Private method to get the last value of a property\n   * \n   * @param {changedProperties} map of the properties changed (same as you get in updated livecycle method)\n   * @param {field} the name of the property you need to know it's last value\n   * @return {boolean}\n   */\n  _getLastValueProperty(changedProperties, field) {\n    return (changedProperties.has(field)) ? changedProperties.get(field) : this[field];\n  }\n\n  _onSelectorIdChanged(e) {\n    if(e.detail.selectorId == this.selectorId) {\n      this.selected = e.detail.selected;\n    }\n  }\n}\n","\nimport { css } from \"lit\";\n\nexport const iconStyles = css`\n    .dile-icon path, .dile-icon polygon {\n      fill: var(--dile-icon-color, #888);\n    }\n    .dile-icon path[fill=\"none\"] {\n      fill: transparent;\n    }\n    .dile-icon {\n      width: var(--dile-icon-size, 24px);\n      height: var(--dile-icon-size, 24px);\n    }\n  `;","import { html } from 'lit';\nexport const closeIcon = html`<svg class=\"dile-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/></svg>`;","import { DileIcon } from \"./src/DileIcon.js\";\n\nwindow.customElements.define(\"dile-icon\", DileIcon);\n","import { html, css, LitElement } from \"lit\";\nimport { iconStyles } from '@dile/icons/index.js';\n\nexport class DileIcon extends LitElement {\n  static get properties() {\n    return {\n      icon: { type: Object },\n    };\n  }\n\n  static get styles() {\n    return [\n      iconStyles,\n      css`\n        :host {\n          display: inline-block;\n          transition-duration: 0.3s;\n          transition-timing-function: ease-in-out;\n          transition-property: background-color;\n        }\n        span {\n          display: flex;\n          align-items: center;\n        }\n        path {\n          transition-duration: 0.3s;\n          transition-timing-function: ease-in-out;\n          transition-property: fill;\n        }\n        :host([rounded]) {\n          background-color: var(--dile-icon-rounded-background-color, #eee);\n          border-radius: 50%;\n          padding: var(--dile-icon-rounded-padding, 0.5rem);\n        }\n    `];\n  }\n\n  render() {\n    return html`\n      <span>${this.icon}</span>\n    `;\n  }\n}\n","/*\nMixin for close something when the user press the esc key.\n\nNeeds a close() method implemented on the component you are extend from this mixin.\n*/\nexport const DileCloseOnEscPressed = (SuperClass) =>\n  class extends SuperClass {\n    constructor() {\n      super();\n      this.closeOnEscHandler = this.escClose.bind(this);\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      window.addEventListener(\"keydown\", this.closeOnEscHandler);\n    }\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      window.removeEventListener(\"keydown\", this.closeOnEscHandler);\n    }\n\n    escClose(e) {\n      if (e.key === \"Escape\" && this.opened) {\n        this.close();\n      }\n    }\n\n    close() {\n      console.log('You need to implement a close method!');\n    }\n  };\n","import { LitElement, html, css } from \"lit\";\nimport '../../icon/icon.js';\nimport { closeIcon } from '@dile/icons/index.js'\nimport { DileCloseOnEscPressed } from '../../../mixins/close-on-esc-pressed/index.js'\n\nexport class DileModal extends DileCloseOnEscPressed(LitElement) {\n  static get properties() {\n    return {\n      _toChange: { type: Boolean },\n      /**\n       * If true the modal box is in opened status.\n       */\n      opened: { type: Boolean },\n      /**\n       * If true the modal box displays a close icon\n       */\n      showCloseIcon: { type: Boolean },\n      /**\n       * If true the modal box blocks the screen. That is, when you click in the background layer, the modal box do not close.\n       */\n      blocking: { type: Boolean },\n    };\n  }\n\n  constructor() {\n    super();\n    this._toChange = false;\n    this.opened = false;\n    this.showCloseIcon = false;\n    this.blocking = false;\n  }\n\n  static get styles() {\n    return [\n      css`\n        * {\n          box-sizing: border-box;\n        }\n        :host {\n          display: block;\n          --dile-close-icon-template-color: var(\n            --dile-modal-close-icon-color,\n            #888\n          );\n        }\n        .closeicon {\n          --dile-icon-color: var( --dile-modal-close-icon-color, #888);\n        }\n        section {\n          position: fixed;\n          left: 0;\n          top: 0;\n          height: 100vh;\n          width: 100vw;\n          display: none;\n          transition: opacity var(--dile-modal-animation-duration, 0.3s) ease-in;\n          -webkit-transition: opacity var(--dile-modal-animation-duration, 0.3s)\n            ease-in;\n          align-items: center;\n          justify-content: center;\n          z-index: var(--dile-modal-z-index, 100);\n          background-color: var(\n            --dile-modal-background-color,\n            rgba(30, 30, 30, 0.8)\n          );\n        }\n        .content {\n          display: block;\n          position: relative;\n          z-index: var(--dile-modal-content-z-index, 101);\n          width: var(--dile-modal-width, 280px);\n          min-width: var(--dile-modal-min-width, 250px);\n          max-width: var(--dile-modal-max-width, 100vw);\n          height: var(--dile-modal-height, auto);\n          min-height: var(--dile-modal-min-height, auto);\n          max-height: var(--dile-modal-max-height, 100vh);\n          background-color: var(--dile-modal-content-background-color, #fff);\n          box-shadow: var(--dile-modal-content-shadow-displacement, 6px)\n            var(--dile-modal-content-shadow-displacement, 6px)\n            var(--dile-modal-content-shadow-blur, 16px)\n            var(--dile-modal-content-shadow-color, #000);\n          border-radius: var(--dile-modal-border-radius, 15px);\n          padding: var(--dile-modal-content-padding, 1em) 0\n            var(--dile-modal-content-padding, 1em)\n            var(--dile-modal-content-padding, 1em);\n        }\n        article {\n          overflow: auto;\n          max-height: 100%;\n          height: 100%;\n          padding-right: var(--dile-modal-content-padding, 1em);\n        }\n        .transparent {\n          opacity: 0;\n        }\n        .opaque {\n          opacity: 1;\n          display: flex !important;\n        }\n        .opened {\n          display: flex !important;\n        }\n        dile-icon {\n          position: absolute;\n          display: inline-block;\n          top: var(--dile-modal-close-icon-top, 5px);\n          right: var(--dile-modal-close-icon-right, 18px);\n          z-index: 1002;\n          width: var(--dile-modal-close-icon-size, 24px);\n          height: var(--dile-modal-close-icon-size, 24px);\n          cursor: var(--dile-modal-close-icon-cursor, pointer);\n        }\n        .contentIconSeparation {\n          padding-top: var(--dile-modal-extra-top-separation-when-icon, 10px);\n        }\n      `,\n    ];\n  }\n\n  render() {\n    return html`\n      <section\n        class=\"${this.getModalClass(this.opened, this._toChange)}\"\n        @click=\"${this._backgroundModalClick}\"\n        @transitionend=\"${this.animationEnd}\"\n        id=\"backgroundmodal\"\n      >\n        <div class=\"content\" @click=\"${this.contentClick}\">\n          ${this.showCloseIcon\n            ? html`<dile-icon .icon=\"${closeIcon}\" @click=\"${this.close}\" class=\"closeicon\"></dile-icon>`\n            : \"\"}\n          <article class=\"${this.showCloseIcon ? \"contentIconSeparation\" : \"\"}\">\n            <slot></slot>\n          </article>\n        </div>\n      </section>\n    `;\n  }\n\n  getModalClass(opened, _toChange) {\n    if (!opened && !_toChange) {\n      return \"transparent\";\n    }\n    if (opened && _toChange) {\n      return \"transparent opened\";\n    }\n    if (opened && !_toChange) {\n      return \"opaque\";\n    }\n    if (!opened && _toChange) {\n      return \"transparent opened\";\n    }\n    return '';\n  }\n\n  open() {\n    this.opened = true;\n    this._toChange = true;\n    setTimeout(() => {\n      this._toChange = false;\n    }, 50);\n  }\n\n  _backgroundModalClick(e) {\n    if (!this.blocking && e.target && e.target.getAttribute(\"id\") === \"backgroundmodal\") {\n      this.close();\n      this.dispatchEvent(\n        new CustomEvent(\"dile-modal-background-closed\", {\n          bubbles: true,\n          composed: true,\n          detail: this,\n        })\n      );\n    }\n  }\n\n  close() {\n    this.opened = false;\n    this._toChange = true;\n    this.dispatchEvent(\n      new CustomEvent(\"dile-modal-closed\", {\n        bubbles: true,\n        composed: true,\n        detail: this,\n      })\n    );\n  }\n\n  animationEnd() {\n    this._toChange = false;\n  }\n\n  \n}\n","import { DileModal } from './src/DileModal.js';\n\ncustomElements.define(\"dile-modal\", DileModal);","import { DileToastItem } from \"./src/DileToastItem.js\";\n\nwindow.customElements.define(\"dile-toast-item\", DileToastItem);\n","import { LitElement, html, css } from \"lit\";\n\nexport class DileToastItem extends LitElement {\n  static get properties() {\n    return {\n      msg: { type: Object },\n    };\n  }\n\n  constructor() {\n    super();\n    this.msg = {\n      msg: \"\",\n      toastType: \"neutral\",\n      hidden: false,\n      opening: true,\n    };\n  }\n\n  static get styles() {\n    return css`\n      * {\n        box-sizing: border-box;\n      }\n      :host {\n        display: block;\n      }\n      div {\n        color: var(--dile-toast-text-color, #fff);\n        padding: var(--dile-toast-padding, 10px 15px);\n        margin-top: 10px;\n        position: relative;\n        top: 0;\n        opacity: 1;\n        width: var(--dile-toast-width, 280px);\n        overflow: hidden;\n        transition: all 0.4s ease;\n        z-index: var(--dile-toast-z-index, 1001);\n        font-size: var(--dile-toast-font-size, 1em);\n        font-weight: var(--dile-toast-font-weight, normal);\n        border-radius: var(--dile-toast-border-radius, 0);\n      }\n      .hidden {\n        top: 20px;\n        opacity: 0;\n        height: 0;\n        padding: 0;\n      }\n      .error {\n        background-color: var(--dile-toast-error-color, #e74c3c);\n      }\n      .success {\n        background-color: var(--dile-toast-success-color, #27ae60);\n      }\n      .neutral {\n        background-color: var(--dile-toast-neutral-color, #303030);\n      }\n      .opening {\n        top: -20px;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n      <div\n        class=\"${this.msg.hidden ? \"hidden\" : \"\"} ${this.msg.opening\n          ? \"opening\"\n          : \"\"} ${this.getClassType(this.msg.toastType)}\"\n      >\n        ${this.msg.text}\n      </div>\n    `;\n  }\n\n  firstUpdated() {\n    setTimeout(() => {\n      this.msg.opening = false;\n      this.requestUpdate();\n    }, 20);\n  }\n\n  getClassType(toastType) {\n    switch (toastType) {\n      case \"error\":\n      case \"success\":\n        return toastType;\n      default:\n        return \"neutral\";\n    }\n  }\n}\n","import { DileToast } from \"./src/DileToast.js\";\nimport './toast-item.js';\n\nwindow.customElements.define(\"dile-toast\", DileToast);\n","import { LitElement, html, css } from \"lit\";\n\nexport class DileToast extends LitElement {\n  static get properties() {\n    return {\n      /* Messages array: Array of objects. You usually will not touch directly this array, instead of it, use the open() method */\n      messages: { type: Array },\n      /* Miliseconds the feedback message remains on the screen */\n      duration: { type: Number },\n    };\n  }\n\n  constructor() {\n    super();\n    this.messages = [];\n    this.duration = 3000;\n    this.cleanTimeout = false;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: flex;\n        flex-direction: column-reverse;\n        position: fixed;\n        bottom: 20px;\n        left: 15px;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n      ${this.messages.map(\n        (msg) => html`\n          <dile-toast-item\n            .msg=\"${msg}\"\n            duration=\"${this.duration}\"\n          ></dile-toast-item>\n        `\n      )}\n    `;\n  }\n\n  /**\n   * Send a message to show in the screen\n   * @param text the text of the message\n   * @param toastType the status of the message (success, error, neutral)\n   */\n  open(text, toastType = \"neutral\") {\n    this.messages = [\n      ...this.messages,\n      {\n        text,\n        toastType,\n        hidden: false,\n        opening: true,\n      },\n    ];\n    this._programMessageClean();\n    this._programMessageHide();\n  }\n\n  /**\n   * Programs the hiding of the last message, after it's duration time\n   */\n  _programMessageHide() {\n    setTimeout(() => {\n      let foundItemToHide = false;\n      this.messages = this.messages.map((item) => {\n        if (!foundItemToHide && !item.hidden) {\n          foundItemToHide = true;\n          return {\n            ...item,\n            hidden: true,\n          };\n        } else {\n          return item;\n        }\n      });\n    }, this.duration);\n  }\n\n  /**\n   * Programs the cleaning of the array of messages, removing the hidden messages elements\n   */\n  _programMessageClean() {\n    if (this.cleanTimeout) {\n      clearTimeout(this.cleanTimeout);\n    }\n    this.cleanTimeout = setTimeout(() => {\n      this.messages = this.messages.filter((item) => !item.hidden);\n    }, this.duration + 1000);\n  }\n}\n","import '@dile/ui/components/pages/pages.js';\r\nimport '@dile/ui/components/modal/modal';\r\nimport '@dile/ui/components/toast/toast';\r\nimport '@dile/ui/components/icon/icon'\r\n\r\nimport { LitElement, html, css } from 'lit';\r\n\r\nclass MyComponent extends LitElement {\r\n\r\n    static styles = css`\r\n    #showpage1 {\r\n        font-size: large;\r\n        }\r\n    `;\r\n  \r\n  render() {\r\n    return html`\r\n      <p>\r\n        <button id=\"showpage1\">Show page 1</button>\r\n        <button id=\"showpage2\">Show page 2</button>\r\n        <button id=\"showpage3\">Show page 3</button>\r\n      </p>\r\n      <dile-pages selected=\"page1\" attrforselected=\"name\">\r\n        <div name=\"page1\">\r\n        <div class=\"container\">\r\n        <h1>Survey Data Export</h1>\r\n        <div class=\"form-group\">\r\n            <label for=\"portal\">Select Portal:</label>\r\n            <select id=\"portal\">\r\n                <option value=\"\">-- Select Portal --</option>\r\n                <option value=\"newportal.x5.ru\">newportal.x5.ru</option>\r\n                <option value=\"example.x5.ru\">example.x5.ru</option>\r\n                <option value=\"data.x5.ru\">data.x5.ru</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group\" id=\"campaign-group\" style=\"display: none;\">\r\n            <label for=\"campaign\">Select Survey:</label>\r\n            <select id=\"campaign\"></select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"date\">Select Date:</label>\r\n            <input type=\"date\" id=\"date\">\r\n        </div>\r\n        <button id=\"download-btn\">Download Excel</button>\r\n            \r\n        </div>\r\n        </div>\r\n        <div name=\"page2\">\r\n          <h2>Page 2</h2>\r\n          <ul>\r\n            <li>item 1</li>\r\n            <li>item 2</li>\r\n            <li>item 3</li>\r\n          </ul>\r\n          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Unde excepturi atque, et quaerat vero saepe maiores, maxime dolore officiis earum cumque temporibus tenetur, possimus deserunt magni itaque! Reiciendis, assumenda quo?</p>\r\n        </div>\r\n        <div name=\"page3\">\r\n          <h2>Page three</h2>\r\n          <p>Just another page</p>\r\n        </div>\r\n      </dile-pages>\r\n    `\r\n  }\r\n  firstUpdated() {\r\n\r\n    this.shadowRoot.getElementById('showpage2').addEventListener('click', () => {\r\n      this.shadowRoot.querySelector('dile-pages').selected=\"page2\";\r\n    });\r\n    this.shadowRoot.getElementById('showpage3').addEventListener('click', () => {\r\n      this.shadowRoot.querySelector('dile-pages').selected=\"page3\";\r\n    });\r\n    // Dispatch a custom event when the component is ready\r\n    this.dispatchEvent(new CustomEvent('component-ready', { bubbles: true, composed: true }));\r\n  }\r\n}\r\n\r\nclass ModalComponent extends LitElement {\r\n  static get styles() {\r\n    return css`\r\n    .myModalCustomized h2 {\r\n        margin-top: 0;\r\n      }\r\n      .myModalCustomized {\r\n        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n        --dile-modal-border-radius: 0;\r\n        --dile-modal-max-height: 227vh;\r\n        --dile-modal-min-width: 110vh;\r\n        --dile-modal-height: 77vh;\r\n        --dile-modal-min-height, 76vh\r\n      }\r\n      .myModalCustomized #preview {\r\n        max-height: 300px;\r\n      } \r\n      .myModalCustomized #backgroundmodal div {\r\n        width: 740px;\r\n      }\r\n      .article {\r\n        display: inline-block;\r\n      }\r\n      section {\r\n        background-color: none;\r\n        backdrop-filter: blur(2px);\r\n      }\r\n      .contentIconSeparation {\r\n        overflow: auto;\r\n        max-height: 273px;\r\n      }\r\n      dile-modal section .content {\r\n        max-height: 270px;\r\n      }\r\n      table {\r\n        width: 100%;\r\n        border-collapse: collapse; /* Ensures borders do not have spacing between them */\r\n      }\r\n\r\n      th, td {\r\n        border: 1px solid black; /* Adds border to table cells */\r\n        padding: 8px;\r\n        text-align: left; /* Align text to the left */\r\n      }\r\n\r\n      th {\r\n        background-color: #f2f2f2; /* Light gray background for headers */\r\n      }\r\n\r\n    `;\r\n  }\r\nrender() {\r\n  return html`\r\n  <button id=\"preview-btn\">Show Preview</button>\r\n  <dile-modal id=\"elmodal4\" class=\"myModalCustomized\" showCloseIcon>\r\n  \r\n    <div class=\"preview\" id=\"preview\" style=\"display: none;\">\r\n      <h2>Data Preview</h2>\r\n      <table>\r\n          <thead id=\"preview-thead\"></thead>\r\n          <tbody id=\"preview-tbody\"></tbody>\r\n      </table>\r\n    </div>\r\n  </dile-modal>\r\n  `\r\n}\r\n//first updated into the index.js file\r\n  firstUpdated() {\r\n    this.shadowRoot.getElementById('preview-btn').addEventListener('click', () => {\r\n      this.shadowRoot.getElementById('elmodal4').open();\r\n    });\r\n    \r\n    this.dispatchEvent(new CustomEvent('modal-ready', { bubbles: true, composed: true }));\r\n  }\r\n\r\n}\r\n\r\n\r\n/////////////\r\n\r\ncustomElements.define('modal-component', ModalComponent);\r\ncustomElements.define('my-component', MyComponent);\r\n\r\n","/**\n *\n * # DileSelector\n *\n * Mixin to select one item from a list.\n *\n */\n import { html } from \"lit\";\n\nexport const DileSelectable = (SuperClass) =>\n  class extends SuperClass {\n\n    static get properties() {\n      return {\n        selected: { type: String },\n        attrForSelected: { type: String },\n        selectorId: { type: String },\n        hashSelection: { type: Boolean },\n      }\n    }\n\n    constructor() {\n      super();\n      this._items = [];\n      this.hashSelection = false;\n      this.itemSelectedChangedHandler = this._itemSelectedChanged.bind(this);\n      this.onHashChangeHandler = this._onHashChange.bind(this);\n    }\n\n    _onHashChange() {\n      if(this.hashSelection) {\n        let items = this.getItems();\n        let hashValue = this.getCleanHash();\n        let elementIndex;\n        let elem = items.find( (item, index) => {\n          let value = this.getItemValueComputed(item, index);\n          elementIndex = index;\n          return value == hashValue;\n        });\n        if(elem) {\n          let valueItem = this.getItemValueComputed(elem, elementIndex);\n          if(this.selected != valueItem) {\n            this.selected = valueItem;\n            this.setSelectedItem();\n            this.dispatchSelectedChanged();\n          }\n        }\n      }\n    }\n\n    getCleanHash() {\n      let hashValue = window.location.hash;\n      if(hashValue.length > 1) {\n        hashValue = hashValue.substring(1);\n      }\n      return hashValue;\n    }\n\n    getItemValueComputed(item, index) {\n      return this.attrForSelected ? item.getAttribute(this.attrForSelected) : index\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      this.addEventListener('dile-item-selected', this.itemSelectedChangedHandler);\n      window.addEventListener(\"hashchange\", this.onHashChangeHandler);\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.removeEventListener('dile-item-selected', this.itemSelectedChangedHandler);\n      window.removeEventListener(\"hashchange\", this.onHashChangeHandler);\n    }\n\n    firstUpdated() {\n      super.firstUpdated();\n      this._items = this.getItems()\n      let index = 0;\n      this._items.forEach(el => {\n        el._assignedIndex = index;\n        index++;\n      });\n      this._onHashChange();\n      this.setSelectedItem();\n      if(this.selected !== undefined) {\n        setTimeout( () => this.dispatchSelectedChanged(), 500);\n      }\n    }\n\n    render() {\n      return html`\n        <slot></slot>\n      `;\n    }\n\n    setSelectedItem() {\n      this._items = this.getItems();\n      if(this.attrForSelected) {\n        // Selected by attribute\n        this._items.forEach(el => {\n          if(el.getAttribute(this.attrForSelected) == this.selected) {\n            el.selected = true;\n          } else {\n            el.selected = false;\n          }\n        });\n      } else {\n        // Selected by index\n        let selectedIndex = parseInt(this.selected);\n        if(! isNaN(selectedIndex) && this._items[selectedIndex]) {\n          this._items.forEach((el, index) => {\n            if(index == selectedIndex) {\n              el.selected = true;\n            } else {\n              el.selected = false;\n            }\n          });\n        }\n      }\n      if(this.hashSelection && this.selected != undefined) {\n        window.location.hash = this.selected;\n      }\n    }\n\n    _itemSelectedChanged(e) {\n      if(! this.attrForSelected) {\n        // selected by index\n        this.selected = e.detail._assignedIndex;\n      } else {\n        // selected by attribute\n        this.selected = e.detail.getAttribute(this.attrForSelected);\n      }\n      this.dispatchSelectedChanged();\n    }\n  \n    dispatchSelectedChanged() {\n      this.dispatchEvent(new CustomEvent('dile-selected-changed', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          selected: this.selected,\n          selectorId: this.selectorId,\n        }\n      }));\n    }\n    \n    updated(changedProperties) {\n      this.setSelectedItem();\n    }\n\n    getItems() {\n      return this.shadowRoot.querySelector('slot').assignedElements({flatten: true});\n    }\n  }","/**\n *\n * # DileSelectorItem\n *\n * Mixin to implement a selector item.\n *\n */\nexport const DileSelectableItem = (SuperClass) =>\n  class extends SuperClass {\n    static get properties() {\n      return {\n        selected: { \n          type: Boolean,\n          reflect: true,\n        },\n        index: { type: Number },\n      };\n    }\n    constructor() {\n      super();\n      this.selected = false;\n    }\n    select() {\n      this.dispatchEvent(new CustomEvent('dile-item-selected', {\n        bubbles: true,\n        composed: true,\n        detail: this\n      }));\n    }\n  }","import { html, css, LitElement } from \"lit\";\nimport { DileSelectableItem } from \"../../../mixins/selectable/index.js\";\n\nexport class DileTab  extends DileSelectableItem(LitElement) {\n\n  static get styles() {\n    return css`\n      :host {\n        display: inline-block;\n        margin: 0 3px;\n      }\n      article {\n        border-top-left-radius: var(--dile-tab-border-radius, 4px);\n        border-top-right-radius: var(--dile-tab-border-radius, 4px);\n        transition: all 0.3s ease;\n        color: var(--dile-tab-text-color, #666);\n        background-color: var(--dile-tab-background-color, transparent);\n        cursor: pointer;\n        border: var(--dile-tab-border, none);\n        font-weight: var(--dile-tab-font-weight, normal);\n        font-size: var(--dile-tab-font-size, 1rem);\n      }\n      div.label {\n        padding: var(--dile-tab-padding, 8px 12px 6px 12px);\n        text-transform: var(--dile-tab-text-transform, uppercase);\n        white-space: nowrap;\n      }\n      .selected {\n        background-color: var(--dile-tab-selected-background-color, #039be5);\n        color: var(--dile-tab-selected-text-color, #fff);\n        border: var(--dile-tab-selected-border, none);\n      }\n      span {\n        display: block;\n        height: var(--dile-tab-selected-line-height, 5px);\n        width: 0;\n        background-color: var(--dile-tab-selected-line-color, #0070c0);\n        transition: width 0.3s ease;\n      }\n      .markselected {\n        width: 100%;\n      }\n      .line {\n        display: flex;\n        justify-content: center;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n      <article @click='${this.select}' class=\"${this.selected ? 'selected' : ''}\">\n        <div class=\"label\"><slot></slot></div>\n        <div class=\"line\">\n          <span class=\"${this.selected ? 'markselected' : ''}\"></span>\n        </div>\n      </article>\n    `;\n  }\n}\n","import { DileTab } from \"./src/DileTab.js\";\n\nwindow.customElements.define(\"dile-tab\", DileTab);\n","import { html, css, LitElement } from \"lit\";\nimport { DileSelectable } from \"../../../mixins/selectable/index.js\";\n\nexport class DileTabs extends DileSelectable(LitElement) {\n  static get styles() {\n    return css`\n      :host {\n        display: flex;\n      }\n    `;\n  }\n}\n","import './tab.js';\nimport { DileTabs } from \"./src/DileTabs.js\";\n\nwindow.customElements.define(\"dile-tabs\", DileTabs);\n","import '@dile/ui/components/pages/pages.js';\r\nimport '@dile/ui/components/tabs/tabs.js';  // Make sure to import dile-tabs\r\nimport { LitElement, html, css } from 'lit';\r\n\r\nclass PageComponent extends LitElement {\r\n\r\n  static styles = css`\r\n    #showpage1 {\r\n      font-size: large;\r\n    }\r\n    dile-tabs dile-tab, dile-tab selected  {\r\n        background: #63b14d;\r\n    }\r\n\r\n    .tab {\r\n      background: #63b14d;\r\n    }\r\n  `;\r\n  \r\n  render() {\r\n    return html`\r\n      <dile-tabs selectorId=\"selector1\" attrforselected=\"name\" selected=\"one\">\r\n        <dile-tab class=\"tab\" name=\"one\">One</dile-tab>\r\n        <dile-tab class=\"tab\" name=\"two\">Two</dile-tab>\r\n      </dile-tabs>\r\n      <hr>\r\n      <dile-pages selectorId=\"selector1\" attrforselected=\"name\">\r\n        <section name=\"one\">\r\n          <p>Page one...</p>\r\n          Lorem ipsum...\r\n        </section>\r\n        <section name=\"two\">\r\n          <p>Page two...</p>\r\n          Other page...\r\n        </section>\r\n      </dile-pages>\r\n    `;\r\n  }\r\n\r\n  firstUpdated() {\r\n    // The component is ready, and any additional setup can go here if needed.\r\n  }\r\n}\r\ncustomElements.define('page-component', PageComponent);\r\n","import './helpers.js';\r\nimport './index.js';\r\nimport './index2.js';\r\nimport './shoutbox.js';\r\n\r\n(async function () {\r\n    async function checkIfAdmin(email) {\r\n        try {\r\n            const response = await fetch('http://127.0.0.1:4000/api/chat-admins');\r\n            if (!response.ok) throw new Error('Failed to fetch admin list');\r\n            const data = await response.json();\r\n            console.log(data, 'data with admins', data.admins.includes(email), 'if it includes admins')\r\n            return data.admins.includes(email);\r\n        } catch (error) {\r\n            console.error('Error checking admin status:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    async function fetchAdmins() {\r\n        try {\r\n            const response = await fetch('http://127.0.0.1:4000/api/chat-admins');\r\n            if (!response.ok) throw new Error('Failed to fetch admins');\r\n            const { admins } = await response.json();\r\n            if (admins.length > 0) {\r\n                // Select an admin for the chat (e.g., pick the first one)\r\n                return admins[0];  // You can change this logic if needed\r\n            } else {\r\n                throw new Error('No admins available for this host');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching admins:', error);\r\n            return null;\r\n        }\r\n    }    \r\n\r\n    async function initializeShoutbox(config) {\r\n        function loadCSS(url) {\r\n            const link = document.createElement('link');\r\n            link.rel = 'stylesheet';\r\n            link.href = url;\r\n            document.head.appendChild(link);\r\n        }\r\n        const {\r\n            wsUrl,\r\n            endpointShoutBoxComment,\r\n            endPointShoutBoxPin,\r\n            customCSS,\r\n            email\r\n        } = config;\r\n        const isAdmin = await checkIfAdmin(email);\r\n        console.log(isAdmin, 'is this an admin?', email)\r\n        if (customCSS) {\r\n            loadCSS(customCSS);\r\n        } else {\r\n            loadCSS('https://')\r\n        }\r\n\r\n        const shoutboxContainer = document.createElement('div');\r\n        shoutboxContainer.id = 'shoutbox-container';\r\n        document.body.appendChild(shoutboxContainer);\r\n\r\n        shoutboxContainer.innerHTML = `\r\n        <div class=\"shoutbox\">\r\n            <div class=\"shoutbox-inner\">\r\n                <div class=\"shoutbox-headline\">\r\n                <h2></h2>\r\n                </div>\r\n\r\n                <!-- Pinned Messages Header -->\r\n                <div class=\"pinned-messages-header\" style=\"display: none;\">\r\n                    <span class=\"pinned-summary\"></span>\r\n                    <button class=\"view-pinned\">View Pinned</button>\r\n                    <button class=\"back-to-chat\" style=\"display: none;\">Back</button>\r\n                </div>\r\n                \r\n                <div class=\"shoutbox-messages-container\">\r\n                    <div id=\"comments\" class=\"scrollable\"></div>\r\n                </div>\r\n\r\n                <div class=\"shoutbox-container-form\">\r\n                    <form id=\"shoutbox-form\">\r\n                        <input type=\"text\" id=\"username\" placeholder=\"Пользователь\" required readonly>\r\n                        <textarea rows=\"5\" cols=\"36\" id=\"comment\" placeholder=\"Ваше сообщение\" required></textarea>\r\n                        <button type=\"submit\" class=\"shoutbox-submit-btn\" disabled=\"\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n                                <path d=\"M7.89221 0.914114L7.24838 1.55794C7.096 1.71032 7.096 1.9574 7.24838 \r\n                                2.10981L12.2929 7.15433H1.19018C0.974678 7.15433 0.799957 7.32905 0.799957 \r\n                                7.54455V8.45506C0.799957 8.67055 0.974678 8.84527 1.19018 \r\n                                8.84527H12.2929L7.24838 13.8898C7.096 14.0422 7.096 14.2893 7.24838 \r\n                                14.4417L7.89221 15.0855C8.04459 15.2379 8.29167 15.2379 8.44408 \r\n                                15.0855L15.2538 8.27575C15.4062 8.12337 15.4062 7.8763 15.2538 \r\n                                7.72388L8.44405 0.914114C8.29167 0.761701 8.04459 0.761701 7.89221 \r\n                                0.914114Z\" fill=\"white\">\r\n                                </path>\r\n                            </svg>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        `\r\n        function scrollToBottom() {\r\n            messagesDiv.scrollTop = messagesDiv.scrollHeight;\r\n        }\r\n\r\n        const shoutForm = document.getElementById('shoutbox-form');\r\n        const messagesDiv = document.getElementById('comments');\r\n        const usernameInput = document.getElementById('username');\r\n        const submitButton = document.querySelector('.shoutbox-submit-btn');\r\n        const shoutboxTextarea = document.querySelector('.shoutbox #comment')\r\n\r\n        shoutboxTextarea.addEventListener('input', (e) => {\r\n            submitButton.disabled = !e.target.value.trim();\r\n        });\r\n\r\n        shoutboxTextarea.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Enter' && !e.shiftKey) {\r\n                e.preventDefault(); // Prevents the default action (i.e., adding a new line)\r\n                //shoutForm.dispatchEvent(new Event('submit', { cancelable: true }));\r\n                if (!submitButton.disabled) {\r\n                    shoutForm.requestSubmit();  // Submit the form if the button is enabled\r\n                }\r\n            }\r\n        });\r\n\r\n        //const email = config.email;\r\n        usernameInput.value = email;\r\n        const isLocalhost = window.location.hostname === 'localhost';\r\n        //const wsUrl = isLocalhost ? 'ws://127.0.0.1:4000' : wss://${window.location.hostname}/ws;\r\n        const fetchHostWs = window.location.host.includes('localhost:8080') ? \r\n                    'https://reports.k8s.rpabot-prod-1.salt.x5.ru' : '';\r\n        // const endpointShoutBoxComment = ${fetchHostWs}/shoutbox/comments;\r\n        // const endPointShoutBoxPin = ${fetchHostWs}/shoutbox/pin;\r\n\r\n        function startWebSocket(wsUrl) {\r\n            let ws = new WebSocket(wsUrl);\r\n\r\n            ws.onopen = function () {\r\n                console.log('WebSocket connection opened');\r\n                fetchMessages()\r\n                //reconnectInterval = 100; // Reset the reconnect interval on successful connection\r\n            };\r\n\r\n            ws.onerror = function (error) {\r\n                console.log('WebSocket error:', error);\r\n            };\r\n\r\n            ws.onclose = function () {\r\n                console.log('WebSocket connection closed. Attempting to reconnect') //in', reconnectInterval / 1000, 'seconds');\r\n                startWebSocket(wsUrl);\r\n                //setTimeout(startWebSocket, reconnectInterval);\r\n                //reconnectInterval = Math.min(reconnectInterval * 2, 30000); // Exponential backoff up to 30 seconds\r\n            };\r\n\r\n            ws.onmessage = function (event) {\r\n                if (event.data === 'pong') {\r\n                    console.log('Received pong from server');\r\n                }\r\n                fetchMessages(); // Re-fetch messages to update the list\r\n            };\r\n\r\n            setInterval(() => {\r\n                if (ws.readyState === WebSocket.OPEN) {\r\n                    ws.send('ping');\r\n                }\r\n            }, 30000);\r\n            return ws;\r\n        }\r\n        startWebSocket(wsUrl); // Initialize WebSocket connection\r\n\r\n        async function fetchMessages(initialLoad = false) {\r\n            try {\r\n                const response = await fetch(endpointShoutBoxComment);\r\n                if (!response.ok) throw new Error('Network response was not ok');\r\n                const messages = await response.json();\r\n                messagesDiv.innerHTML = '';\r\n                let allMessagesHTML = '';\r\n                //const sortedMessages = messages.sort((a, b) => b.created_at - a.created_at);\r\n\r\n                messages.forEach(message => {\r\n                    const messageDiv = document.createElement('div');\r\n\r\n                    const isUserMessage = message.username === usernameInput.value;\r\n                    const pinButtonText = message.is_pinned ? 'Unpin' : 'Pin';\r\n\r\n                    // Construct the HTML for this message\r\n                    const messageHTML = `\r\n                    <div class=\"message ${message.is_pinned ? 'pinned' : ''} ${isUserMessage ? 'user-message' : ''}\">\r\n                        <div class=\"message-content\">\r\n                            <strong class=\"message-username\">${message.username}</strong>\r\n                            <span class=\"message-comment\">${message.comment}</span> <br>\r\n                            <small class=\"message-date\">${new Date(message.created_at).toLocaleString()}</small>\r\n                            ${isAdmin || isUserMessage ? `\r\n                                <button class=\"delete\" data-id=\"${message.id}\">Удалить</button>\r\n                                ${isAdmin ? `<button class=\"pin\" data-id=\"${message.id}\">${pinButtonText}</button>` : ''}\r\n                            ` : ''}\r\n                        </div>\r\n                    </div>\r\n                    `;\r\n\r\n                    // Add the HTML of this message to the accumulating string\r\n                    allMessagesHTML += messageHTML;\r\n                });\r\n                messagesDiv.innerHTML = allMessagesHTML;\r\n                if (initialLoad) {\r\n                    scrollToBottom();\r\n                }\r\n                \r\n                // Attach event listeners to delete and pin buttons\r\n                document.querySelectorAll('.delete').forEach(button => {\r\n                    button.addEventListener('click', async function () {\r\n                        const id = this.getAttribute('data-id');\r\n                        const email = usernameInput.value; // Capture the email of the current user\r\n                \r\n                        try {\r\n                            const response = await fetch(`${endpointShoutBoxComment}/${id}`, {\r\n                                method: 'DELETE',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                    'email': email, // Include email in headers\r\n                                },\r\n                                body: JSON.stringify({ email }) // Also include email in the body\r\n                            });\r\n                \r\n                            if (!response.ok) {\r\n                                const errorText = await response.text();\r\n                                throw new Error(errorText);\r\n                            }\r\n                \r\n                            fetchMessages();\r\n                        } catch (error) {\r\n                            console.error('Error deleting comment:', error);\r\n                        }\r\n                    });\r\n                });\r\n\r\n                document.querySelectorAll('.pin').forEach(button => {\r\n                    button.addEventListener('click', async function () {\r\n                        const id = this.getAttribute('data-id');\r\n                        const isPinned = this.textContent === 'Unpin';\r\n                        console.log(isPinned, 'is pinned?');\r\n                        try {\r\n                            await fetch(`${endPointShoutBoxPin}/${id}`, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    \"Content-Type\": \"application/json\",\r\n                                    \"email\": email  //Pass the email in headers\r\n                                },\r\n                                body: JSON.stringify({ unpin: isPinned })  // Send `unpin: true` if it's an unpin operation\r\n                            });\r\n                            fetchMessages();\r\n                        } catch (error) {\r\n                            console.error('Error pinning/unpinning message:', error);\r\n                        }\r\n                    });\r\n                });\r\n            } catch (error) {\r\n                console.error('Failed to fetch messages:', error);\r\n            }\r\n        }\r\n        shoutForm.addEventListener('submit', async function (e) {\r\n            e.preventDefault();\r\n            const email = usernameInput.value;\r\n            const comment = document.getElementById('comment').value;\r\n        \r\n            try {\r\n                const response = await fetch(endpointShoutBoxComment, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        \"Content-Type\": 'application/json',\r\n                        \"email\": email\r\n                    },\r\n                    body: JSON.stringify({ comment, email })  // Include email here\r\n                });\r\n        \r\n                if (response.ok) {\r\n                    const newMessage = await response.json();\r\n                    ws.send(JSON.stringify(newMessage));\r\n                    fetchMessages(true);\r\n                    //scrollToBottom();\r\n                    //shoutForm.reset();\r\n                    document.getElementById('comment').value = '';\r\n                    submitButton.disabled = true;\r\n                } else {\r\n                    console.error('Failed to post message:', response.statusText);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error posting message:', error);\r\n            }\r\n        });\r\n        fetchMessages(true);\r\n        let ws = startWebSocket(wsUrl);\r\n    }\r\n    window.initializeShoutbox = initializeShoutbox;\r\n\r\n\r\n    /////////////////////////////////////////////////\r\n\r\n    async function initializeAdminShoutbox(config) {\r\n        function loadCSS(url) {\r\n            const link = document.createElement('link');\r\n            link.rel = 'stylesheet';\r\n            link.href = url;\r\n            document.head.appendChild(link);\r\n        }\r\n    \r\n        const {\r\n            wsUrl,\r\n            endpointShoutBoxComment,\r\n            customCSS,\r\n            email\r\n        } = config;\r\n    \r\n        const isAdmin = await checkIfAdmin(email);\r\n    \r\n        if (customCSS) {\r\n            loadCSS(customCSS);\r\n        } else {\r\n            loadCSS('https://'); // Add your default CSS here\r\n        }\r\n    \r\n        const shoutboxContainer = document.createElement('div');\r\n        shoutboxContainer.id = 'shoutbox-container';\r\n        document.body.appendChild(shoutboxContainer);\r\n        \r\n        async function getChatId(adminEmail, userEmail) {\r\n            const response = await fetch('http://127.0.0.1:4000/adminbox/get-chat-id', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ adminEmail, userEmail })\r\n            });\r\n        \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                console.log(data, 'data from getchat id from fetch user?')\r\n                return data.chatId;  // Assuming the server returns an existing or new chatId\r\n            } else {\r\n                console.error('Failed to retrieve chatId');\r\n                return null;\r\n            }\r\n        }\r\n\r\n        let archivedChatsOffset = 0;\r\n        const archivedChatsLimit = 10;\r\n        \r\n        async function getArchivedChats(limit = archivedChatsLimit, offset = archivedChatsOffset) {\r\n          try {\r\n            const response = await fetch(`http://127.0.0.1:4000/adminbox/get-archived-chats?limit=${limit}&offset=${offset}`);\r\n            if (!response.ok) throw new Error('Network response was not ok');\r\n            const messages = await response.json();\r\n            console.log(messages, 'messages from get archived chats');\r\n        \r\n            // const groupedChats = {};\r\n            // messages.forEach(message => {\r\n            //   const chatKey = message.chat_id;\r\n            //   if (!groupedChats[chatKey]) {\r\n            //     groupedChats[chatKey] = [];\r\n            //   }\r\n            //   groupedChats[chatKey].push(message);\r\n            // });\r\n        \r\n            // console.log(groupedChats, 'grouped chats from get archived chats');\r\n            return messages;\r\n        \r\n          } catch (error) {\r\n            console.error('Failed to retrieve archived chats', error);\r\n            return {};\r\n          }\r\n        }\r\n        \r\n        async function fetchArchivedChatById(chatId) {\r\n            try {\r\n              const response = await fetch(`http://127.0.0.1:4000/adminbox/get-archived-chat?chatId=${chatId}`);\r\n              if (response.ok) {\r\n                return await response.json();\r\n              }\r\n              throw new Error('Failed to fetch archived chat');\r\n            } catch (error) {\r\n              console.error('Error fetching archived chat:', error);\r\n              return null;\r\n            }\r\n          }          \r\n        \r\n        let selectedChatId = null; //Track current chatid\r\n        // Conditional rendering based on whether the user is an admin or a regular user\r\n        if (isAdmin) {\r\n            shoutboxContainer.innerHTML = `\r\n                <div class=\"shoutbox\">\r\n                    <div class=\"shoutbox-inner\">\r\n                        <div class=\"shoutbox-headline\"></div>\r\n                        <div class=\"all-chats-container\">\r\n                            <dile-tabs id=\"chats-tabs-navigation\" selectorId=\"selector1\" attrforselected=\"name\" selected=\"userChats\">\r\n                                <dile-tab class=\"tab\" name=\"userChats\">Активные Чаты</dile-tab>\r\n                                <dile-tab class=\"tab\" name=\"archivedChats\">Архивированные чаты</dile-tab>\r\n                            </dile-tabs>\r\n                            <dile-pages selectorId=\"selector1\" attrforselected=\"name\">\r\n                                <section name=\"userChats\">\r\n                                    <div class=\"user-chats-list-container\">\r\n                                        <ul id=\"user-chats-list\"></ul>\r\n                                    </div>\r\n                                </section>\r\n                                <section name=\"archivedChats\">\r\n                                    <div class=\"archived-chats-list-container\">\r\n                                        <h3>Архив</h3>\r\n                                        <ul id=\"archived-chats-list\"></ul>\r\n                                    </div>\r\n                                </section>\r\n                            </dile-pages>\r\n                        </div>\r\n                        \r\n                        <div class=\"admin-chat-view\" style=\"display: none;\">\r\n                            <button id=\"back-to-chats\">Back to All Chats</button>\r\n                            <div class=\"shoutbox-messages-container\">\r\n                                <button class=\"archive-chat-btn\">Архивировать Чат</button>\r\n                                <div id=\"comments\" class=\"scrollable\"></div>\r\n                            </div>\r\n                            <div class=\"shoutbox-container-form\">\r\n                                <form id=\"shoutbox-form\">\r\n                                    <input type=\"text\" id=\"username\" placeholder=\"Оператор\" required readonly>\r\n                                    <textarea rows=\"5\" cols=\"36\" id=\"comment\" placeholder=\"Your message\" required></textarea>\r\n                                    <button type=\"submit\" class=\"shoutbox-submit-btn\" disabled=\"\">\r\n                                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n                                            <path d=\"M7.89221 0.914114L7.24838 1.55794C7.096 1.71032 7.096 1.9574 7.24838 \r\n                                            2.10981L12.2929 7.15433H1.19018C0.974678 7.15433 0.799957 7.32905 0.799957 \r\n                                            7.54455V8.45506C0.799957 8.67055 0.974678 8.84527 1.19018 \r\n                                            8.84527H12.2929L7.24838 13.8898C7.096 14.0422 7.096 14.2893 7.24838 \r\n                                            14.4417L7.89221 15.0855C8.04459 15.2379 8.29167 15.2379 8.44408 \r\n                                            15.0855L15.2538 8.27575C15.4062 8.12337 15.4062 7.8763 15.2538 \r\n                                            7.72388L8.44405 0.914114C8.29167 0.761701 8.04459 0.761701 7.89221 \r\n                                            0.914114Z\" fill=\"white\">\r\n                                            </path>\r\n                                        </svg>\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n    \r\n            const userChatsListContainer = document.querySelector('.user-chats-list-container');\r\n            const userChatsList = document.getElementById('user-chats-list');\r\n            const adminChatView = document.querySelector('.admin-chat-view');\r\n            const backToChatsButton = document.getElementById('back-to-chats');\r\n            const archiveChatButton = document.querySelector('.archive-chat-btn');\r\n            const archivedChatsListContainer = document.querySelector('.archived-chats-list-container');\r\n            const archivedChatsList = document.getElementById('archived-chats-list');\r\n    \r\n            const adminForm = document.getElementById('shoutbox-form');\r\n            const adminMessagesDiv = document.getElementById('comments');\r\n            const adminUsernameInput = document.getElementById('username');\r\n            const adminSubmitButton = document.querySelector('.shoutbox-submit-btn');\r\n            const adminTextarea = document.getElementById('comment');\r\n    \r\n            adminUsernameInput.value = email;\r\n    \r\n            let selectedUser = null;  // Track which user's chat is being viewed\r\n            \r\n            function showAdminChatView() {\r\n                userChatsListContainer.style.display = 'none';\r\n                adminChatView.style.display = 'block';\r\n            }\r\n            \r\n            function hideAdminChatView() {\r\n                userChatsListContainer.style.display = 'block';\r\n                adminChatView.style.display = 'none';\r\n            }\r\n\r\n            function appendMessage(message) {\r\n                // const messageDiv = document.createElement('div');\r\n                // messageDiv.classList.add('message');\r\n            \r\n                // const messageContent = `\r\n                //     <p><strong>${message.username || message.admin_email}</strong>: ${message.comment}</p>\r\n                //     <span>${new Date(message.created_at).toLocaleTimeString()}</span>\r\n                // `;\r\n                // messageDiv.innerHTML = messageContent;\r\n                // // Append the new message to the chat window\r\n                // adminMessagesDiv.appendChild(messageDiv);\r\n                const messageDiv = document.createElement('div');\r\n                messageDiv.classList.add('message');\r\n                const sender = message.is_admin ? message.admin_email : message.username;\r\n                messageDiv.innerHTML = `\r\n                    <div class=\"message-content\"> \r\n                        <strong class=\"message-username\">${sender}</strong>\r\n                        <span class=\"message-comment\">${message.comment}</span> <br>\r\n                        <small class=\"message-date\">${new Date(message.created_at).toLocaleString()}</small>\r\n                    </div>\r\n                `;\r\n                if (message.is_admin) {\r\n                    messageDiv.classList.add('user-message');\r\n                }\r\n                adminMessagesDiv.appendChild(messageDiv);\r\n                scrollToBottom(); // Scroll to the bottom after appending\r\n            }\r\n            \r\n\r\n            adminTextarea.addEventListener('input', (e) => {\r\n                adminSubmitButton.disabled = !e.target.value.trim();\r\n            });\r\n    \r\n            adminTextarea.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter' && !e.shiftKey) {\r\n                    e.preventDefault();\r\n                    if (!adminSubmitButton.disabled) {\r\n                        adminForm.requestSubmit();\r\n                    }\r\n                }\r\n            });\r\n\r\n            // let adminEmail = await fetchAdmins();\r\n    \r\n            let ws;\r\n    \r\n            async function fetchUserChats() {\r\n                try {\r\n                    const queryString = `?isAdmin=${encodeURIComponent(true)}`;\r\n                    const response = await fetch(endpointShoutBoxComment + queryString);\r\n                    if (!response.ok) throw new Error('Network response was not ok');\r\n                    const messages = await response.json();\r\n                    //const archivedChats = await getArchivedChats();\r\n                    //console.log(archivedChats, 'archived chats after await;')\r\n                    //const archivedChatIds = archivedChats ? archivedChats.map(chat => chat.chat_id) : [];\r\n\r\n                    const userChats = {};\r\n                    messages.forEach(message => {\r\n                        // Group by chatId or username\r\n                        const chatKey = message.chat_id;\r\n            \r\n                        if (!userChats[chatKey]) {\r\n                            userChats[chatKey] = [];\r\n                        }\r\n                        userChats[chatKey].push(message);\r\n                    });\r\n            \r\n                      // Sort chats by the latest message timestamp in descending order\r\n                    const sortedChats = Object.entries(userChats).sort((a, b) => {\r\n                        const lastMessageA = a[1][a[1].length - 1];\r\n                        const lastMessageB = b[1][b[1].length - 1];\r\n                        return new Date(lastMessageB.created_at) - new Date(lastMessageA.created_at);\r\n                    });\r\n                    console.log(sortedChats, 'SORTED CHATS!!!!!!!!!!!!!!!!!!!!11111111')\r\n                    userChatsList.innerHTML = '';\r\n                    //archivedChatsList.innerHTML = '';\r\n                    sortedChats.forEach(([chatId, messages], idx) => {\r\n                        const listItem = document.createElement('li');\r\n                        listItem.setAttribute('data-chatId', chatId);\r\n                        \r\n                        const lastMessage = messages[messages.length - 1];\r\n                        const lastMessageSender = lastMessage.is_admin ? lastMessage.admin_email : lastMessage.username;\r\n                        \r\n                        const selectedUserEmail = lastMessage.is_admin ? lastMessage.admin_email : lastMessage.username;\r\n            \r\n                        listItem.textContent = `${lastMessageSender}: ${lastMessage.comment.substring(0, 30)}`;\r\n                        listItem.addEventListener('click', async (e) => {\r\n                            //selectedUser = selectedUserEmail;\r\n                            selectedChatId = chatId; //await getChatId(email, username);\r\n                            console.log(selectedChatId, ' selected chat iddddddddddddd')\r\n                            loadChat(selectedChatId);\r\n                        });\r\n                        // Append the item to the appropriate list (archived or active)\r\n                        //if (archivedChatIds.includes(chatId)) {\r\n                          //  archivedChatsList.appendChild(listItem);\r\n                        //} else {\r\n                        userChatsList.appendChild(listItem);\r\n                        //}\r\n                    });\r\n            \r\n            \r\n                    if (adminChatView.style.display === 'none') {\r\n                        userChatsListContainer.style.display = 'block';\r\n                        archivedChatsListContainer.style.display = 'block';\r\n                    }\r\n            \r\n                } catch (error) {\r\n                    console.error('Failed to fetch user chats:', error);\r\n                }\r\n            }     \r\n            \r\n            async function loadChat(selectedChatId, isArchived = false) {\r\n                //selectedUser = selectedChatId; // Set the selected user for messaging\r\n                showAdminChatView(); // Display the admin chat view\r\n                adminMessagesDiv.innerHTML = ''; // Clear previous messages\r\n                console.log(isArchived, 'is archived from loadchat')\r\n                try {\r\n                    // Fetch the latest messages for this chat from the server\r\n                    const response = await fetch(`${endpointShoutBoxComment}?chatId=${encodeURIComponent(selectedChatId)}&isArchived=${encodeURIComponent(isArchived)}`);\r\n                    if (!response.ok) throw new Error('Failed to fetch messages');\r\n                    const messages = await response.json();\r\n                    \r\n                    // Display the messages\r\n                    messages.forEach(message => {\r\n                        const messageDiv = document.createElement('div');\r\n                        messageDiv.className = 'message';\r\n            \r\n                        const displayedUsername = message.is_admin ? message.admin_email : message.username;\r\n                        messageDiv.innerHTML = `\r\n                            <div class=\"message-content\">\r\n                                <strong class=\"message-username\">${displayedUsername}</strong>\r\n                                <span class=\"message-comment\">${message.comment}</span> <br>\r\n                                <small class=\"message-date\">${new Date(message.created_at).toLocaleString()}</small>\r\n                            </div>\r\n                        `;\r\n                        if (message.is_admin) {\r\n                            messageDiv.classList.add('user-message');\r\n                        }\r\n                        adminMessagesDiv.appendChild(messageDiv);\r\n                    });\r\n            \r\n                    scrollToBottom();\r\n                } catch (error) {\r\n                    console.error('Failed to load chat:', error);\r\n                }\r\n            }\r\n\r\n\r\n            /////////////////////\r\n            \r\n            // function setupArchivedChatsScrolling() {\r\n            //     archivedChatsListContainer.addEventListener('scroll', async function () {\r\n            //         const { scrollTop, scrollHeight, clientHeight } = archivedChatsListContainer;\r\n            //         if (scrollTop + clientHeight >= scrollHeight - 5) {\r\n            //             archivedChatsOffset += archivedChatsLimit; // Increment the offset\r\n            //             const newArchivedChats = await getArchivedChats();\r\n            //             if (newArchivedChats && newArchivedChats.length > 0) {\r\n            //                 appendArchivedChats(newArchivedChats); // Append the new chats\r\n            //             }\r\n            //         }\r\n            //     });\r\n            // }\r\n            function setupArchivedChatsScrolling() {\r\n                archivedChatsListContainer.addEventListener('scroll', async () => {\r\n                  if (archivedChatsListContainer.scrollTop + archivedChatsListContainer.clientHeight >= archivedChatsListContainer.scrollHeight) {\r\n                    // Increment the offset by the limit\r\n                    archivedChatsOffset += archivedChatsLimit;\r\n                    const newArchivedChats = await getArchivedChats(archivedChatsLimit, archivedChatsOffset);\r\n                    console.log(newArchivedChats, 'NEW ARCHIVED CHATS FROM SETUPARCHIVEDCHATSSCROLLing');\r\n                    appendArchivedChats(newArchivedChats);\r\n                  }\r\n                });\r\n              }\r\n              \r\n              async function appendArchivedChats(chats) {\r\n                const userChats = {};\r\n                chats.forEach(message => {\r\n                    // Group by chatId or username\r\n                    const chatKey = message.chat_id;\r\n        \r\n                    if (!userChats[chatKey]) {\r\n                        userChats[chatKey] = [];\r\n                    }\r\n                    userChats[chatKey].push(message);\r\n                });\r\n\r\n                const sortedChats = Object.entries(userChats).sort((a, b) => {\r\n                  const lastMessageA = a[1][a[1].length - 1];\r\n                  const lastMessageB = b[1][b[1].length - 1];\r\n                  return new Date(lastMessageB.created_at) - new Date(lastMessageA.created_at);\r\n                });\r\n              \r\n                console.log(sortedChats, 'ALL THE SORTED CHATS FROM APPEND ARCHIVED CHATS?');\r\n                sortedChats.forEach(([chatId, messages]) => {\r\n                  // Avoid duplicates in the list\r\n                  if (!document.querySelector(`[data-chatId=\"${chatId}\"]`)) {\r\n                    const listItem = document.createElement('li');\r\n                    listItem.setAttribute('data-chatId', chatId);\r\n                    console.log(chatId, messages, 'CHAT ID AND MESSAGES FROM APPEND ARCHIVED CHATS!!!');\r\n              \r\n                    // Show the last message of this chat\r\n                    const lastMessage = messages[messages.length - 1]; //messages[0];\r\n                    const lastMessageSender = lastMessage.is_admin ? lastMessage.admin_email : lastMessage.username;\r\n                    listItem.textContent = `${lastMessageSender}: ${lastMessage.comment.substring(0, 30)}`;\r\n              \r\n                    // Add click event to load all messages in the chat\r\n                    listItem.addEventListener('click', async () => {\r\n                      selectedChatId = chatId;\r\n                      console.log(selectedChatId, 'selected chat id when clicked')\r\n                      loadChat(selectedChatId, true); // Load full chat when clicked\r\n                    });\r\n              \r\n                    // Append to archived chats list without clearing it\r\n                    archivedChatsList.appendChild(listItem);\r\n                  }\r\n                });\r\n              }\r\n            \r\n            \r\n            function disableChat() {\r\n                adminTextarea.disabled = true;\r\n                adminSubmitButton.disabled = true;\r\n             }\r\n    \r\n            backToChatsButton.addEventListener('click', () => {\r\n                adminChatView.style.display = 'none';\r\n                userChatsListContainer.style.display = 'block';\r\n                archivedChatsListContainer.style.display = 'block';\r\n            });\r\n\r\n            archiveChatButton.addEventListener('click', async () => {\r\n                try {\r\n                    const response = await fetch('http://127.0.0.1:4000/adminbox/archive-chat', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            \"Content-Type\": 'application/json'\r\n                        },\r\n                        body: JSON.stringify({chatId: selectedChatId})\r\n                    });\r\n                    if (response.ok) {\r\n                        alert('Chat archived');\r\n                        //disableChat();\r\n                    } else {\r\n                        console.error('Failed to archive chat: ', response.statusText);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error archiving chat: ', error);\r\n                }\r\n            })\r\n    \r\n            function startWebSocket(wsUrl, email) {\r\n                //ws = new WebSocket(wsUrl);\r\n                const wsUrlWithParams = `${wsUrl}?email=${encodeURIComponent(email)}`;\r\n                ws = new WebSocket(wsUrlWithParams);\r\n                \r\n                ws.onopen = function () {\r\n                    console.log('WebSocket connection opened');\r\n                    fetchUserChats(); // Initial fetch when the WebSocket connection opens\r\n                                // Initialize the first 10 archived chats on load\r\n                    getArchivedChats().then(chats => {\r\n                        appendArchivedChats(chats);\r\n                        setupArchivedChatsScrolling();\r\n                    });\r\n                };\r\n            \r\n                ws.onerror = function (error) {\r\n                    console.log('WebSocket error:', error);\r\n                };\r\n            \r\n                ws.onclose = function () {\r\n                    console.log('WebSocket connection closed. Attempting to reconnect');\r\n                    startWebSocket(wsUrl, email); // Reconnect logic if the connection closes\r\n                };\r\n            \r\n                ws.onmessage = function (event) {\r\n                    const messageData = JSON.parse(event.data);\r\n            \r\n                    if (messageData.type === 'new_message') {\r\n                        console.log(messageData, 'message data when admin received')\r\n                        const username = messageData.data.username;\r\n                        console.log(username, ' usernmae in new_message for ADMIN......................!!!')\r\n                        if (!username) {\r\n                            console.error('Received message with no username:', messageData.username);\r\n                            return; // Skip further processing if there's no valid chatId\r\n                        }\r\n                        \r\n                        const lastMessageText = \r\n                            `${messageData.data.is_admin ? messageData.data.admin_email : messageData.data.username}: ${messageData.data.comment.substring(0, 30)}`;\r\n                        \r\n                        // Check if chat already exists in the userChatsList\r\n                        let existingChatItem = document.querySelector(`li[data-chatId=\"${messageData.data.chat_id}\"]`);\r\n                        console.log('last message text:', messageData.data);\r\n                        if (existingChatItem) {\r\n                            // Update the last message and move the chat to the top\r\n                            existingChatItem.textContent = lastMessageText;\r\n                            userChatsList.removeChild(existingChatItem);  // Remove from current position\r\n                            userChatsList.insertBefore(existingChatItem, userChatsList.firstChild);  // Move to top\r\n                        } else {\r\n                            // If the chat does not exist, create a new chat list item and add it to the top\r\n                            const newListItem = document.createElement('li');\r\n                            newListItem.setAttribute('data-chatId', messageData.data.chat_id);\r\n                            newListItem.textContent = lastMessageText;\r\n                \r\n                            // Add event listener to load chat when clicked\r\n                            newListItem.addEventListener('click', async () => {\r\n                                selectedUser = username;\r\n                                selectedChatId = messageData.data.chat_id //await getChatId(email, username);\r\n\r\n                                console.log('Message received:', messageData, selectedUser, ' selected user',\r\n                                selectedChatId);\r\n                                console.log('Chat ID (from message):', messageData.data.chat_id);\r\n\r\n                                const message = JSON.stringify({\r\n                                    type: 'chat_selected',\r\n                                    chat_id: selectedChatId,\r\n                                    username: selectedUser\r\n                                });\r\n                                ws.send(message); \r\n                                \r\n                                loadChat(selectedChatId); // Load chat when clicked\r\n                            });\r\n                \r\n                            // Insert the new chat at the top of the list\r\n                            userChatsList.insertBefore(newListItem, userChatsList.firstChild);\r\n                        }\r\n                        console.log('Selected Chat ID (current):', selectedChatId, 'and message data chat_id: ',\r\n                        messageData.data.chat_id);\r\n                        // If the message belongs to the currently selected chat, append it to the chat view\r\n                        if (messageData.data.chat_id === selectedChatId) {\r\n                            appendMessage(messageData.data);\r\n                            scrollToBottom();  // Scroll to the bottom of the chat\r\n                        }\r\n                    }\r\n            \r\n                    if (messageData.type === 'chat_archived') {\r\n                        console.log('Chat archived:', messageData.data);\r\n                        // Handle archived chat updates (e.g., remove chat from active list)\r\n                        fetchUserChats(); // Optionally, re-fetch chats to update the UI\r\n\r\n                        const chatId = messageData.data;\r\n\r\n                                    // Initialize the first 10 archived chats on load\r\n                        // setTimeout(() => {\r\n                        //     getArchivedChats().then(chats => {\r\n                        //         console.log(chats, 'chats when chat_archived !!!');\r\n                        //         appendArchivedChats(chats);\r\n                        //         setupArchivedChatsScrolling();\r\n                        //     });\r\n                        // }, 500); \r\n\r\n                        //when I archive a chat, then start scrolling in the archived chats tab I can find\r\n                        //that archived chat. But if I archive again a chat, it wont' be in the archived chats\r\n                        //tab. I think this might be happening because of the pagination and that it only\r\n                        //fetches 10 chats, but if my scroll if further (or at the bottom, i.e. the last archived chat)\r\n                        //then this chat wont be fetched in the websocket call of getarchivedchats\r\n                         // Call a function to fetch the entire chat by its ID\r\n\r\n                        fetchArchivedChatById(chatId).then(archivedChat => {\r\n                            if (archivedChat) {\r\n                            const lastMessage = archivedChat.messages[archivedChat.messages.length - 1];\r\n                            console.log(lastMessage, 'last message from fetcharchivedchat by id when chat is archiged')\r\n                            const lastMessageText = \r\n                            `${lastMessage.is_admin ? lastMessage.admin_email : lastMessage.username}: ${lastMessage.comment.substring(0, 30)}`;\r\n                        \r\n                            // Create new list item for archived chat\r\n                            const newListItem = document.createElement('li');\r\n                            newListItem.setAttribute('data-chatId', chatId);\r\n                            newListItem.textContent = lastMessageText;\r\n                            \r\n                            // Add event listener to load the archived chat when clicked\r\n                            newListItem.addEventListener('click', async () => {\r\n                                selectedChatId = chatId;\r\n                                loadChat(selectedChatId, true);  // Load the archived chat\r\n                            });\r\n                            \r\n                            // Append to the archived chats list\r\n                            archivedChatsList.insertBefore(newListItem, archivedChatsList.firstChild);\r\n                            }\r\n                        }).catch(error => {\r\n                            console.error('Error fetching archived chat:', error);\r\n                        });\r\n                        \r\n                    }\r\n                };\r\n                // Optionally remove the 30-second interval\r\n                // setInterval(() => {\r\n                //     if (ws.readyState === WebSocket.OPEN) {\r\n                //         ws.send('ping');\r\n                //     }\r\n                // }, 30000); // Only for keeping the WebSocket connection alive if necessary\r\n            }\r\n            \r\n    \r\n            startWebSocket(wsUrl, email);\r\n            \r\n            //let chatId = null;  // This will store the chat ID for the current conversation\r\n            async function getChatUsername(chatId) {\r\n                const response = await fetch('http://127.0.0.1:4000/adminbox/get-user', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    chatId\r\n                },\r\n            });\r\n        \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                return data.username;  // Assuming the server returns an existing or new chatId\r\n            } else {\r\n                console.error('Failed to retrieve username');\r\n                return null;\r\n            }\r\n            }\r\n            \r\n            \r\n            adminForm.addEventListener('submit', async function (e) {\r\n                e.preventDefault();\r\n                const comment = adminTextarea.value;\r\n                \r\n                //const username = selectedUser;  // Use the selected user's username\r\n              \r\n                // if (!username) {\r\n                //     console.error('No user selected for messaging.');\r\n                //     return;\r\n                // }\r\n\r\n                if (!selectedChatId) {\r\n                    console.error('No chatid selected for messaging.');\r\n                    return;\r\n                }\r\n\r\n                const queryString = `?chatId=${encodeURIComponent(selectedChatId)}`;\r\n                const response = await fetch('http://127.0.0.1:4000/adminbox/get-user' + queryString);\r\n                if (!response.ok) throw new Error('Network response was not ok');\r\n                selectedUser = await response.json();\r\n                console.log('admin email before submitting:', email, 'and selected user -> ', \r\n                selectedUser, 'and selected chat it: ', selectedChatId);\r\n                \r\n                // const chatId = await getChatId(email, username);\r\n                // console.log(chatId, 'chat id when admin submits?')\r\n                // if (!chatId) {\r\n                //     console.error('Failed to retrieve or create chat_id');\r\n                //     return;\r\n                // }\r\n                //selectedUser = await getChatUsername(selectedChatId)\r\n            \r\n                try {\r\n                    const response = await fetch(endpointShoutBoxComment, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            \"Content-Type\": 'application/json',\r\n                            \"email\": email  // Sending the admin's email as the sender\r\n                        },\r\n                        body: JSON.stringify({ comment, email: email, userEmail: selectedUser, chatId: selectedChatId })  // Use the existing chatId\r\n                    });\r\n            \r\n                    if (response.ok) {\r\n                        const newMessage = await response.json();\r\n                        ws.send(JSON.stringify(newMessage)); // Send message through WebSocket\r\n            \r\n                        // const messageDiv = document.createElement('div');\r\n                        // messageDiv.className = 'message';\r\n                        // messageDiv.innerHTML = `\r\n                        //     <div class=\"message-content\">\r\n                        //         <strong class=\"message-username\">${email}</strong>\r\n                        //         <span class=\"message-comment\">${newMessage.comment}</span> <br>\r\n                        //         <small class=\"message-date\">${new Date(newMessage.created_at).toLocaleString()}</small>\r\n                        //     </div>\r\n                        // `;\r\n                        // adminMessagesDiv.appendChild(messageDiv);\r\n                        scrollToBottom();  // Scroll to the bottom of the chat view\r\n            \r\n                        adminTextarea.value = '';\r\n                        adminSubmitButton.disabled = true;\r\n                    } else {\r\n                        console.error('Failed to post message:', response.statusText);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error posting message:', error);\r\n                }\r\n            });\r\n    \r\n            function scrollToBottom() {\r\n                adminMessagesDiv.scrollTop = adminMessagesDiv.scrollHeight;\r\n            }\r\n    \r\n            fetchUserChats();\r\n                        // Initialize the first 10 archived chats on load\r\n            getArchivedChats().then(chats => {\r\n                appendArchivedChats(chats);\r\n                setupArchivedChatsScrolling();\r\n            });\r\n\r\n        } else {\r\n            shoutboxContainer.innerHTML = `\r\n                <div class=\"shoutbox\">\r\n                    <div class=\"shoutbox-inner\">\r\n                        <div class=\"shoutbox-headline\">\r\n                            <h2></h2>\r\n                        </div>\r\n                        <div class=\"shoutbox-messages-container\">\r\n                            <div id=\"comments\" class=\"scrollable\"></div>\r\n                        </div>\r\n                        <div class=\"shoutbox-container-form\">\r\n                            <form id=\"shoutbox-form\">\r\n                                <input type=\"text\" id=\"username\" placeholder=\"Пользователь\" required readonly>\r\n                                <textarea rows=\"5\" cols=\"36\" id=\"comment\" placeholder=\"Your message\" required></textarea>\r\n                                <button type=\"submit\" class=\"shoutbox-submit-btn\" disabled=\"\">\r\n                                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n                                        <path d=\"M7.89221 0.914114L7.24838 1.55794C7.096 1.71032 7.096 1.9574 7.24838 \r\n                                        2.10981L12.2929 7.15433H1.19018C0.974678 7.15433 0.799957 7.32905 0.799957 \r\n                                        7.54455V8.45506C0.799957 8.67055 0.974678 8.84527 1.19018 \r\n                                        8.84527H12.2929L7.24838 13.8898C7.096 14.0422 7.096 14.2893 7.24838 \r\n                                        14.4417L7.89221 15.0855C8.04459 15.2379 8.29167 15.2379 8.44408 \r\n                                        15.0855L15.2538 8.27575C15.4062 8.12337 15.4062 7.8763 15.2538 \r\n                                        7.72388L8.44405 0.914114C8.29167 0.761701 8.04459 0.761701 7.89221 \r\n                                        0.914114Z\" fill=\"white\">\r\n                                        </path>\r\n                                    </svg>\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n    \r\n            const userForm = document.getElementById('shoutbox-form');\r\n            const userMessagesDiv = document.getElementById('comments');\r\n            const userUsernameInput = document.getElementById('username');\r\n            const userSubmitButton = document.querySelector('.shoutbox-submit-btn');\r\n            const userTextarea = document.getElementById('comment');\r\n    \r\n            userUsernameInput.value = email;\r\n    \r\n            userTextarea.addEventListener('input', (e) => {\r\n                userSubmitButton.disabled = !e.target.value.trim();\r\n            });\r\n    \r\n            userTextarea.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter' && !e.shiftKey) {\r\n                    e.preventDefault();\r\n                    if (!userSubmitButton.disabled) {\r\n                        userForm.requestSubmit();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            let ws;\r\n            function startWebSocket(wsUrl, email) {\r\n                const wsUrlWithParams = `${wsUrl}?email=${encodeURIComponent(email)}`;\r\n                ws = new WebSocket(wsUrlWithParams);\r\n            \r\n                ws.onopen = function () {\r\n                    console.log('WebSocket connection opened, chatid: ', selectedChatId);\r\n\r\n                    fetchUserMessages(); // Initial fetch when the WebSocket connection opens\r\n                };\r\n            \r\n                ws.onerror = function (error) {\r\n                    console.log('WebSocket error:', error);\r\n                };\r\n            \r\n                ws.onclose = function () {\r\n                    console.log('WebSocket connection closed. Attempting to reconnect');\r\n                    startWebSocket(wsUrl, email); // Reconnect logic if the connection closes\r\n                };\r\n            \r\n                ws.onmessage = function (event) {\r\n                    const messageData = JSON.parse(event.data);\r\n                    \r\n                    if (messageData.type === 'first_time_user' && !selectedChatId) {\r\n                        selectedChatId = messageData.chatId\r\n                        fetchUserMessages();\r\n                        console.log('first time user, got assigned with id: ', selectedChatId, messageData.chatId);\r\n                    }\r\n\r\n                    if (messageData.type === 'new_chat_id') {\r\n                        // New chat ID received after chat was archived\r\n                        const newChatId = messageData.newChatId;\r\n                        console.log('New chat ID received:', newChatId);\r\n                       \r\n\r\n                        setTimeout(function() {\r\n                            console.log('Reconnecting WebSocket with new chat ID:', newChatId);\r\n                            selectedChatId = newChatId;\r\n\r\n                            // Clear the chat UI after receiving the new chat ID\r\n                            //clearChat(); \r\n                            fetchUserMessages();\r\n\r\n                            // Reconnect WebSocket with the new chat ID\r\n                            //startWebSocket(wsUrl, email);\r\n                        }, 1000);  // 1 second delay to ensure the WebSocket is properly closed\r\n\r\n                        // selectedChatId = messageData.newChatId;\r\n                        // console.log('New chat ID received:', selectedChatId);\r\n                        // ws.close();\r\n                        // ws.onclose = function () {\r\n                        //     console.log('WebSocket connection closed. Attempting to reconnect');\r\n                        //     startWebSocket(wsUrl, email); // Reconnect logic if the connection closes\r\n                        // };\r\n\r\n                        //clearChat();  // Clear the chat UI\r\n                        //fetchUserMessages();  // Fetch new messages for the newly assigned chat ID\r\n                      }\r\n\r\n                    if (messageData.type === 'chat_selected') {\r\n                        console.log('Admin selected chat:', messageData.chat_id);\r\n                \r\n                        // Automatically assign the selected chat ID on the user side\r\n                        selectedChatId = messageData.chat_id;\r\n                        loadChat(messageData.username);  // Optionally load the chat for the user\r\n                    }\r\n\r\n                    if (messageData.type === 'new_message') {\r\n                        if (!selectedChatId) {\r\n                            selectedChatId = messageData.data.chat_id;\r\n                            console.log('Automatically setting selectedChatId:', selectedChatId);\r\n                        }\r\n\r\n                        console.log('New message received userside:', messageData.data, 'AND SELECTED CHAT ID: ',\r\n                        selectedChatId);\r\n                        if (messageData.data.chat_id === selectedChatId) {\r\n                            console.log('Appending message to correct chat:', messageData.data);\r\n                            appendMessage(messageData.data);\r\n                            scrollToBottom();\r\n                        } else {\r\n                            console.log('Message does not belong to this chat, ignoring.');\r\n                        }\r\n                        // fetchUserMessages(); \r\n                    }\r\n            \r\n                    if (messageData.type === 'chat_archived') {\r\n                        console.log('Chat archived (its id):', messageData, \r\n                        'and the selected chat id before reassigning its value: ',\r\n                        selectedChatId);\r\n\r\n                        //selectedChatId = messageData.data;\r\n                        // Handle archived chat updates (e.g., remove chat from active list)\r\n                        fetchUserMessages(); // Optionally, re-fetch chats to update the UI\r\n                        console.log('New chat ID assigned after chat archivation: ', selectedChatId);\r\n                    }\r\n                };\r\n            }\r\n    \r\n            function appendMessage(message) {\r\n                const messageDiv = document.createElement('div');\r\n                messageDiv.className = 'message';\r\n                const sender = message.is_admin ? message.admin_email : message.username;\r\n                const userUsernameInput = document.getElementById('username');\r\n                console.log(message.username, 'message username????????????')\r\n                const isUserMessage = message.username === userUsernameInput.value;\r\n                //const isUserMessage = message.username === email;\r\n                // if (isUserMessage) {\r\n                //     messageDiv.classList.add('user-message');  // Add class for user's messages\r\n                // }\r\n                if (!message.admin_email) {\r\n                    messageDiv.classList.add('user-message');\r\n                }\r\n                \r\n                messageDiv.innerHTML = `\r\n                    <div class=\"message-content\">\r\n                        <strong class=\"message-username\">${sender}</strong>\r\n                        <span class=\"message-comment\">${message.comment}</span> <br>\r\n                        <small class=\"message-date\">${new Date(message.created_at).toLocaleString()}</small>\r\n                    </div>\r\n                `;\r\n                userMessagesDiv.appendChild(messageDiv);\r\n                scrollToBottom();\r\n            }\r\n    \r\n            async function fetchUserMessages() {\r\n                if (!selectedChatId) {\r\n                    console.error('No chatId available for fetching messages');\r\n                    return;\r\n                }\r\n                //let adminEmail = window.currentAdminEmail\r\n                // if (!adminEmail) {\r\n                //     adminEmail = await fetchAdmins();\r\n                //     window.currentAdminEmail = adminEmail;\r\n                // }\r\n                //selectedChatId = await getChatId(adminEmail,email);\r\n                try {\r\n                    console.log(email, selectedChatId, 'EMAIL AND SELECTED CHAT ID IN FETCH USER MESSAGES')\r\n                    const response = await fetch(`${endpointShoutBoxComment}?userEmail=${\r\n                        encodeURIComponent(email)\r\n                    }&chatId=${\r\n                        encodeURIComponent(selectedChatId)\r\n                    }`);\r\n                    if (!response.ok) throw new Error('Network response was not ok');\r\n                    const messages = await response.json();\r\n                    console.log(messages, 'messages from fetchuser MESSAGES')\r\n                    userMessagesDiv.innerHTML = '';\r\n                    messages.forEach(message => {\r\n                        //if (message.username === email || message.is_admin) {\r\n                            appendMessage(message);\r\n                       // }\r\n                        \r\n                    });\r\n                } catch (error) {\r\n                    console.error('Failed to fetch messages:', error);\r\n                }\r\n            }\r\n    \r\n            userForm.addEventListener('submit', async function (e) {\r\n                e.preventDefault();\r\n                const comment = userTextarea.value;\r\n                const username = email;\r\n                console.log(username, 'username of the userform');\r\n                // Prevent duplicate submissions\r\n                userForm.querySelector('button[type=\"submit\"]').disabled = true;\r\n            \r\n                let adminEmail = window.currentAdminEmail;  // Check if we already have the admin's email\r\n            \r\n                // If the admin is not set (new chat), fetch it\r\n                if (!adminEmail) {\r\n                    adminEmail = await fetchAdmins();\r\n                    if (!adminEmail) {\r\n                        console.error('No admin available to assign to the chat');\r\n                        userForm.querySelector('button[type=\"submit\"]').disabled = false;\r\n                        return;  // Exit early if no admin is found\r\n                    }\r\n                    window.currentAdminEmail = adminEmail;  // Cache the admin email for future messages\r\n                }\r\n                let chatId = null;\r\n                //const chatId = await getChatId(adminEmail, username);\r\n                console.log('selected chat id for usr in submit: ', selectedChatId)\r\n                if (selectedChatId) {\r\n                    console.log('selected chat id is present in user submit form')\r\n                    chatId = selectedChatId\r\n                } else { \r\n                    chatId = await getChatId(adminEmail, username);\r\n                    console.log('selected chat id is not present in the submit user form!!!111, new chat id?',\r\n                    chatId)\r\n                }\r\n                \r\n                try {\r\n                    const response = await fetch(endpointShoutBoxComment, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            \"Content-Type\": 'application/json',\r\n                            \"email\": username\r\n                        },\r\n                        // body: JSON.stringify({ comment, email: email, userEmail: selectedUser, chatId: chatId })  // Use the existing chatId\r\n                        body: JSON.stringify({ comment, email: username, userEmail: username, chatId: selectedChatId })  // Pass the adminEmail\r\n                    });\r\n                    if (response.ok) {\r\n                        const newMessage = await response.json();\r\n                        // ws.send(JSON.stringify(newMessage));\r\n\r\n                        ws.send(JSON.stringify({\r\n                            type: 'new_message',  // Add a type to specify what kind of action this is\r\n                            data: newMessage      // Actual message data\r\n                          }));\r\n\r\n                        //appendMessage(newMessage);  // Append message only once\r\n                        userTextarea.value = '';\r\n                        userSubmitButton.disabled = true;\r\n                    } else {\r\n                        console.error('Failed to post message:', response.statusText);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error posting message:', error);\r\n                } finally {\r\n                    userForm.querySelector('button[type=\"submit\"]').disabled = false;\r\n                }\r\n            });\r\n            \r\n    \r\n            function scrollToBottom() {\r\n                userMessagesDiv.scrollTop = userMessagesDiv.scrollHeight;\r\n            }\r\n    \r\n            startWebSocket(wsUrl, email);\r\n            console.log('selected chat id from initial ', selectedChatId);\r\n            //fetchUserMessages();\r\n        }\r\n    }\r\n    \r\n    window.initializeAdminShoutbox = initializeAdminShoutbox;\r\n    \r\n    //shouldnt chat_id be the same for one chat? right now its different for each different message in the same chat\r\n})();"],"names":["round","v","lim","l","h","Math","max","min","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","a","b","c","d","e","f","hex","h1","h2","eq","hexString","r","g","isShort","alpha","undefined","HUE_RE","hsl2rgbn","s","n","k","hsv2rgbn","hwb2rgbn","w","rgb","i","rgb2hsl","hueValue","calln","Array","isArray","map","hsl2rgb","hue","hueParse","str","m","exec","p1","p2","hwb2rgb","hsv2rgb","x","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","nameParse","unpacked","keys","Object","tkeys","j","ok","nk","length","replace","parseInt","unpack","transparent","toLowerCase","RGB_RE","to","pow","from","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","functionParse","charAt","rgbParse","Color","constructor","type","ret","len","this","_rgb","_valid","valid","obj","rgbString","hslString","mix","color","weight","c1","c2","w2","p","w1","interpolate","t","rgb1","rgb2","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","noop","uid","id","isNullOrUndef","value","prototype","toString","call","slice","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","callback","fn","args","thisArg","apply","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","source","target","create","klen","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","current","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","o","y","resolveObjectKey","resolver","parts","split","part","push","_splitKey","_getKeyResolver","_capitalize","toUpperCase","defined","isFunction","setsEqual","size","item","has","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","range","roundedRange","niceRange","floor","fraction","isNumber","isNaN","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","splice","forEach","_arrayUnique","items","set","Set","requestAnimFrame","window","requestAnimationFrame","throttled","argsToUse","ticking","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","Map","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","get","Intl","NumberFormat","getNumberFormat","format","formatters","values","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","overrides","descriptors","getScope$1","node","root","scope","Defaults","_descriptors","_appliers","animation","backgroundColor","borderColor","datasets","devicePixelRatio","context","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","override","route","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","local","appliers","defaults","_scriptable","startsWith","_indexable","_fallback","delay","duration","easing","loop","properties","active","resize","show","animations","visible","hide","autoPadding","padding","top","right","bottom","left","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","data","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","line","opts","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","toFontString","resolve","inputs","info","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","getValue","Error","join","add","delete","_resolveScriptable","isIndexable","arr","filter","_resolveArray","_resolveWithContext","allKeys","configurable","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","parse","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","ownerDocument","defaultView","positions","getPositionedStyle","styles","suffix","result","pos","useOffsetPos","shadowRoot","getRelativePosition","event","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","prevValue","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","pop","_getAnims","charts","complete","progress","listen","cb","reduce","acc","cur","_duration","stop","cancel","remove","animator","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","update","elapsed","wait","promises","Promise","res","rej","resolved","method","Animations","config","_properties","configure","animationOptions","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","all","awaitAll","then","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","shift","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","static","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","defineProperty","base","object","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","disabled","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","concat","sort","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","DoughnutController","animateRotate","animateScale","cutout","circumference","spacing","legend","generateLabels","fontColor","getDataVisibility","legendItem","toggleDataVisibility","super","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","calculateCircumference","animationOpts","centerX","centerY","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","PolarAreaController","angleLines","circular","pointLabels","bind","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","controllers","__proto__","BarController","categoryPercentage","barPercentage","grouped","_index_","_value_","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","skipNull","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","baseValue","minBarLength","actualBase","floating","barSign","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","BubbleController","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","registry","getElement","abstract","DateAdapterBase","members","init","formats","diff","startOf","endOf","adapters","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","position","handler","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestCartesianItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","params","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","determineAxis","scaleOptions","getAxisFromDataset","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","error","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","initOptions","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","getSizeForArea","field","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","setTimeout","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getDatasetArea","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","pixelMargin","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","fullCircles","inner","lineJoin","angleMargin","clipArc","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","path","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","getBarBounds","bar","half","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","inflateRect","amount","refRect","ArcElement","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","BarElement","addRectPath","mouseX","mouseY","inXRange","inYRange","PointElement","hoverRadius","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","getColorizer","colorizeDoughnutDataset","colorizePolarAreaDataset","colorizeDefaultDataset","containsColorsDefinitions","plugin_colors","forceOverride","_args","chartOptions","colorizer","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getStartAndCountOfVisiblePointsSimplified","threshold","decimated","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","unshift","pointValue","firstValue","lastValue","simpleArc","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","_drawfill","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","itemsEqual","plugin_legend","_element","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","xSet","xAverage","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","formattedValue","getTooltipSize","tooltip","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","Colors","Decimation","Filler","SubTitle","findOrAddLabel","addedLabels","addIfString","lastIndexOf","_getLabelForValue","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","LinearScaleBase","_startValue","_endValue","_valueRange","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","LinearScale","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","generateTicks","minExp","exp","startExp","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","updateLimits","setCenterPoint","_pointLabelItems","itemOpts","extra","createPointLabelItem","isNotOverlapped","buildPointLabelItems","hLimits","vLimits","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","pathRadiusLine","RadialLinearScale","animate","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","INTERVALS","millisecond","common","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","time","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","CategoryScale","_addedLabels","added","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","myComponent","querySelector","previewThead","textContent","selected","updatePreviewHeader","modalComponent","previewBtn","log","thead","tbody","innerHTML","headerRow","createElement","headerCell","appendChild","cell","showPreview","classList","toggle","numericalRatings","nonNumericalRatings","numericalLabels","numericalValues","numericalQuestions","questions","nonNumericalLabels","nonNumericalValues","nonNumericalQuestions","numericalCtx","nonNumericalCtx","globalThis","ShadowRoot","ShadyCSS","nativeShadow","Document","CSSStyleSheet","n$2","_$cssResult$","cssText","styleSheet","replaceSync","cssRules","is","getOwnPropertySymbols","trustedTypes","emptyScript","reactiveElementPolyfillSupport","u","toAttribute","Boolean","fromAttribute","attribute","converter","reflect","hasChanged","metadata","litPropertyMetadata","HTMLElement","addInitializer","_$Ei","observedAttributes","finalize","_$Eh","createProperty","state","elementProperties","noAccessor","getPropertyDescriptor","requestUpdate","getPropertyOptions","finalized","_$Eu","elementStyles","finalizeStyles","flat","_$Ep","isUpdatePending","_$Em","_$Ev","_$ES","enableUpdating","_$AL","_$E_","addController","_$EO","renderRoot","hostConnected","removeController","createRenderRoot","attachShadow","shadowRootOptions","adoptedStyleSheets","litNonce","connectedCallback","disconnectedCallback","hostDisconnected","attributeChangedCallback","_$AK","_$EC","_$ET","_$Ej","reject","scheduleUpdate","performUpdate","wrapped","shouldUpdate","willUpdate","hostUpdate","_$EU","_$AE","hostUpdated","firstUpdated","updateComplete","getUpdateComplete","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","random","toFixed","createComment","_","RegExp","$","_$litType$","strings","for","createTreeWalker","test","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","ctor","tagName","append","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","_$AV","_$AN","_$AD","_$AM","_$AU","creationScope","importNode","nextSibling","_$AI","_$Cv","_$AH","_$AA","_$AB","startNode","endNode","_$AR","iterator","insertBefore","createTextNode","_$AC","_$AP","setConnected","toggleAttribute","capture","once","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","customElements","define","attrForSelected","selectorId","showDisplay","html","transitionTime","_pageInitialization","_onSelectorIdChangedHandler","_onSelectorIdChanged","css","pages","children","ele","initializeExternalPages","htmlElements","page","_selectPage","changedProperties","_updatedAndNotUndefined","lastSelected","_getLastValueProperty","lastAttrForSelected","hidePage","_showCurrentPage","detail","iconStyles","closeIcon","icon","DileCloseOnEscPressed","SuperClass","closeOnEscHandler","escClose","opened","close","DileModal","_toChange","showCloseIcon","blocking","getModalClass","_backgroundModalClick","animationEnd","contentClick","open","dispatchEvent","CustomEvent","bubbles","composed","msg","toastType","opening","getClassType","messages","cleanTimeout","_programMessageClean","_programMessageHide","foundItemToHide","MyComponent","DileSelectable","hashSelection","_items","itemSelectedChangedHandler","_itemSelectedChanged","onHashChangeHandler","_onHashChange","elementIndex","getItems","hashValue","getCleanHash","elem","find","getItemValueComputed","valueItem","setSelectedItem","dispatchSelectedChanged","location","hash","substring","_assignedIndex","selectedIndex","assignedElements","flatten","DileSelectableItem","select","DileTab","DileTabs","PageComponent","async","checkIfAdmin","email","response","fetch","json","admins","initializeShoutbox","loadCSS","url","link","rel","href","wsUrl","endpointShoutBoxComment","endPointShoutBoxPin","customCSS","isAdmin","shoutboxContainer","shoutForm","messagesDiv","usernameInput","submitButton","shoutboxTextarea","startWebSocket","ws","WebSocket","onopen","fetchMessages","onerror","onclose","onmessage","setInterval","readyState","OPEN","send","initialLoad","allMessagesHTML","message","isUserMessage","username","pinButtonText","is_pinned","messageHTML","comment","created_at","toLocaleString","scrollTop","scrollHeight","querySelectorAll","button","headers","errorText","isPinned","unpin","trim","shiftKey","preventDefault","requestSubmit","newMessage","statusText","initializeAdminShoutbox","archivedChatsOffset","archivedChatsLimit","getArchivedChats","selectedChatId","userChatsListContainer","userChatsList","adminChatView","backToChatsButton","archiveChatButton","archivedChatsListContainer","archivedChatsList","adminForm","adminMessagesDiv","adminUsernameInput","adminSubmitButton","adminTextarea","selectedUser","appendMessage","messageDiv","sender","is_admin","admin_email","scrollToBottom","fetchUserChats","queryString","encodeURIComponent","userChats","chatKey","chat_id","sortedChats","lastMessageA","lastMessageB","chatId","listItem","lastMessage","lastMessageSender","loadChat","isArchived","className","displayedUsername","setupArchivedChatsScrolling","newArchivedChats","appendArchivedChats","chats","wsUrlWithParams","messageData","lastMessageText","existingChatItem","removeChild","newListItem","fetchArchivedChatById","archivedChat","catch","alert","userEmail","userForm","userMessagesDiv","userUsernameInput","userSubmitButton","userTextarea","fetchUserMessages","newChatId","adminEmail","currentAdminEmail","fetchAdmins","getChatId"],"mappings":"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","x_google_ignoreList":[0,1,2,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28]}